{"version":3,"names":["_sfc_main","data","common_vendor","index","__f__","refreshing","loading","noMore","activeDate","activeFilter","page","dates","generateDates","filters","name","activities","dateAniShow","filterAniShow","cardAniShow","onLoad","options","filter","findIndex","f","fetchActivities","mounted","_this","setTimeout","methods","weekdays","now","Date","i","date","setDate","getDate","push","day","weekday","getDay","hasEvents","Math","random","switchDate","onRefresh","switchFilter","onLoadMore","_arguments","arguments","_this2","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","isLoadMore","where","res","rawActivities","formattedActivities","wrap","_callee$","_context","prev","next","length","undefined","content_type","category","er","database","collection","orderBy","skip","limit","get","sent","result","map","item","id","_id","title","image","_a","files","activity_time","time","formatTime","location","participants","attendee_count","tag","tagClass","getTagClass","status","getStatus","concat","_toConsumableArray2","t0","showToast","icon","finish","stop","timestamp","getHours","toString","padStart","getMinutes","formatMonth","month","getMonth","formatDay","getStatusClass","getStatusText","tagMap","activityTime","getTime","wx","createPage","MiniProgramPage"],"sources":["activities.vue","cGFnZXMvY2lyY2xlL2FjdGl2aXRpZXMvYWN0aXZpdGllcy52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"activities-container\">\r\n\t\t<!-- 测试数据 -->\r\n\t\t<view style=\"padding: 20rpx; background: #f0f0f0;\">\r\n\t\t\t<text>测试数据：{{ JSON.stringify(activities) }}</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 日期选择器 -->\r\n\t\t<scroll-view class=\"date-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t<view class=\"date-list\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tv-for=\"(date, index) in dates\" \r\n\t\t\t\t\t:key=\"index\" \r\n\t\t\t\t\tclass=\"date-item date-ani\"\r\n\t\t\t\t\t:class=\"{ active: activeDate === index }\" \r\n\t\t\t\t\t@tap=\"switchDate(index)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<text class=\"day\">{{ date.day }}</text>\r\n\t\t\t\t\t<text class=\"weekday\">{{ date.weekday }}</text>\r\n\t\t\t\t\t<view class=\"dot\" v-if=\"date.hasEvents\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t\r\n\t\t<!-- 筛选标签 -->\r\n\t\t<view class=\"filter-wrapper\">\r\n\t\t\t<scroll-view class=\"filter-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t\t<view class=\"filter-list\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tv-for=\"(filter, index) in filters\" \r\n\t\t\t\t\t\t:key=\"index\" \r\n\t\t\t\t\t\tclass=\"filter-item filter-ani\"\r\n\t\t\t\t\t\t:class=\"{ active: activeFilter === index }\" \r\n\t\t\t\t\t\t@tap=\"switchFilter(index)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text>{{ filter.name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 活动列表 -->\r\n\t\t<scroll-view \r\n\t\t\tclass=\"content-scroll\" \r\n\t\t\tscroll-y=\"true\" \r\n\t\t\trefresher-enabled=\"true\"\r\n\t\t\t:refresher-triggered=\"refreshing\"\r\n\t\t\t@refresherrefresh=\"onRefresh\"\r\n\t\t\t@scrolltolower=\"onLoadMore\"\r\n\t\t>\r\n\t\t\t<view class=\"activity-fullview\">\r\n\t\t\t\t<view class=\"activity-item card-ani\" v-for=\"(item, index) in activities\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"activity-date-block\">\r\n\t\t\t\t\t\t<text class=\"month\">{{ formatMonth(item.date) }}</text>\r\n\t\t\t\t\t\t<text class=\"day\">{{ formatDay(item.date) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"activity-content\">\r\n\t\t\t\t\t\t<image class=\"activity-image\" :src=\"item.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"activity-info\">\r\n\t\t\t\t\t\t\t<text class=\"activity-title\">{{ item.title }}</text>\r\n\t\t\t\t\t\t\t<view class=\"activity-meta\">\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont icon-shijian\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"time-text\">{{ item.time }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont icon-location ml-lg\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"location-text\">{{ item.location }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"activity-meta\">\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont icon-huodong\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"participant-text\">{{ item.participants }}人参与</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"activity-tags\">\r\n\t\t\t\t\t\t\t\t<text class=\"tag\" :class=\"item.tagClass\">{{ item.tag }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"status-tag\" :class=\"getStatusClass(item)\">{{ getStatusText(item) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"action-btn-group\">\r\n\t\t\t\t\t\t\t<button class=\"action-btn secondary clickable-mp\" @tap.stop=\"viewDetail(item)\">查看详情</button>\r\n\t\t\t\t\t\t\t<button class=\"action-btn primary clickable-mp\" v-if=\"canJoin(item)\" @tap.stop=\"joinActivity(item)\">立即参与</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 加载和空状态 -->\r\n\t\t\t\t<view class=\"loading loading-ani\" v-if=\"loading\">\r\n\t\t\t\t\t<text class=\"iconfont icon-loading loading-icon\"></text>\r\n\t\t\t\t\t<text class=\"text-sm text-gray\">加载中...</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"empty-state empty-ani\" v-if=\"activities.length === 0 && !loading\">\r\n\t\t\t\t\t<text class=\"iconfont icon-empty empty-icon\"></text>\r\n\t\t\t\t\t<text class=\"empty-text\">暂无活动</text>\r\n\t\t\t\t\t<button class=\"btn btn-outline mt-base clickable-mp\" @tap=\"onRefresh\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-shijian mr-xs\"></text>刷新试试\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"end-text\" v-if=\"noMore && activities.length > 0 && !loading\">\r\n\t\t\t\t\t<text class=\"text-sm text-gray\">没有更多活动了</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\tconsole.log('data初始化');\r\n\t\treturn {\r\n\t\t\trefreshing: false,\r\n\t\t\tloading: false,\r\n\t\t\tnoMore: false,\r\n\t\t\tactiveDate: 0,\r\n\t\t\tactiveFilter: 0,\r\n\t\t\tpage: 1,\r\n\t\t\tdates: this.generateDates(),\r\n\t\t\tfilters: [\r\n\t\t\t\t{ name: '全部' },\r\n\t\t\t\t{ name: '官方' },\r\n\t\t\t\t{ name: '社团' },\r\n\t\t\t\t{ name: '学术' },\r\n\t\t\t\t{ name: '娱乐' },\r\n\t\t\t\t{ name: '体育' },\r\n\t\t\t],\r\n\t\t\tactivities: [],\r\n\t\t\tdateAniShow: false,\r\n\t\t\tfilterAniShow: false,\r\n\t\t\tcardAniShow: false\r\n\t\t};\r\n\t},\r\n\tonLoad(options) {\r\n\t\tconsole.log('onLoad执行', options);\r\n\t\t// 接收传递的参数\r\n\t\tif (options.filter) {\r\n\t\t\tconst index = this.filters.findIndex(f => f.name === options.filter);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.activeFilter = index;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 页面加载时初始化数据\r\n\t\tthis.fetchActivities();\r\n\t},\r\n\tmounted() {\r\n\t\tconsole.log('mounted执行');\r\n\t\tsetTimeout(() => { this.dateAniShow = true; this.filterAniShow = true; this.cardAniShow = true; }, 100);\r\n\t},\r\n\tmethods: {\r\n\t\t// 生成日期数据\r\n\t\tgenerateDates() {\r\n\t\t\tconsole.log('generateDates执行');\r\n\t\t\tconst dates = [];\r\n\t\t\tconst weekdays = ['日', '一', '二', '三', '四', '五', '六'];\r\n\t\t\tconst now = new Date();\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < 14; i++) {\r\n\t\t\t\tconst date = new Date();\r\n\t\t\t\tdate.setDate(now.getDate() + i);\r\n\t\t\t\t\r\n\t\t\t\tdates.push({\r\n\t\t\t\t\tday: date.getDate(),\r\n\t\t\t\t\tweekday: weekdays[date.getDay()],\r\n\t\t\t\t\tdate: date,\r\n\t\t\t\t\thasEvents: Math.random() > 0.5, // 模拟是否有活动\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn dates;\r\n\t\t},\r\n\t\t\r\n\t\t// 切换日期\r\n\t\tswitchDate(index) {\r\n\t\t\tconsole.log('switchDate执行', index);\r\n\t\t\tif (this.activeDate === index) return;\r\n\t\t\t\r\n\t\t\tthis.activeDate = index;\r\n\t\t\tthis.onRefresh();\r\n\t\t},\r\n\t\t\r\n\t\t// 切换筛选条件\r\n\t\tswitchFilter(index) {\r\n\t\t\tconsole.log('switchFilter执行', index);\r\n\t\t\tif (this.activeFilter === index) return;\r\n\t\t\t\r\n\t\t\tthis.activeFilter = index;\r\n\t\t\tthis.onRefresh();\r\n\t\t},\r\n\t\t\r\n\t\t// 下拉刷新\r\n\t\tonRefresh() {\r\n\t\t\tconsole.log('onRefresh执行');\r\n\t\t\tif (this.refreshing) return;\r\n\t\t\t\r\n\t\t\tthis.refreshing = true;\r\n\t\t\tthis.page = 1;\r\n\t\t\tthis.noMore = false;\r\n\t\t\tthis.fetchActivities();\r\n\t\t},\r\n\t\t\r\n\t\t// 上拉加载更多\r\n\t\tonLoadMore() {\r\n\t\t\tconsole.log('onLoadMore执行');\r\n\t\t\tif (this.loading || this.noMore) return;\r\n\t\t\t\r\n\t\t\tthis.page++;\r\n\t\t\tthis.fetchActivities(true);\r\n\t\t},\r\n\t\t\r\n\t\t// 获取活动数据\r\n\t\tasync fetchActivities(isLoadMore = false) {\r\n\t\t\tconsole.log('fetchActivities开始执行', { isLoadMore, page: this.page });\r\n\t\t\tif (isLoadMore) this.loading = true;\r\n\t\t\ttry {\r\n\t\t\t\t// 构建查询条件\r\n\t\t\t\tconst where = {\r\n\t\t\t\t\tcontent_type: 'activity'\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t// 处理分类筛选\r\n\t\t\t\tif (this.activeFilter !== 0) { // 0是\"全部\"\r\n\t\t\t\t\twhere.category = this.filters[this.activeFilter].name;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('查询条件:', where);\r\n\t\t\t\t\r\n\t\t\t\t// 云数据库查询\r\n\t\t\t\tconst res = await uniCloud.database()\r\n\t\t\t\t.collection('add-content')\r\n\t\t\t\t.where(where)\r\n\t\t\t\t.orderBy('activity_time', 'desc')  // 按时间倒序排列\r\n\t\t\t\t.skip((this.page - 1) * 5)\r\n\t\t\t\t.limit(5)\r\n\t\t\t\t.get();\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('数据库返回数据:', res.result.data);\r\n\t\t\t\t\r\n\t\t\t\t// 处理返回数据\r\n\t\t\t\tconst rawActivities = res.result.data || [];\r\n\t\t\t\tconst formattedActivities = rawActivities.map(item => ({\r\n\t\t\t\t\tid: item._id,\r\n\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\timage: item.files?.[0] || '/static/images/activity-default.png',\r\n\t\t\t\t\tdate: new Date(item.activity_time),\r\n\t\t\t\t\ttime: this.formatTime(item.activity_time),\r\n\t\t\t\t\tlocation: item.location,\r\n\t\t\t\t\tparticipants: item.attendee_count || 0,\r\n\t\t\t\t\ttag: item.category,\r\n\t\t\t\t\ttagClass: this.getTagClass(item.category),\r\n\t\t\t\t\tstatus: this.getStatus(item.activity_time)\r\n\t\t\t\t}));\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('格式化后的数据:', formattedActivities);\r\n\t\t\t\t\r\n\t\t\t\tif (!isLoadMore) {\r\n\t\t\t\t\tthis.activities = formattedActivities;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.activities = [...this.activities, ...formattedActivities];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 判断是否还有更多数据\r\n\t\t\t\tthis.noMore = rawActivities.length < 5;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('获取活动失败', err);\r\n\t\t\t\tuni.showToast({ title: '加载失败', icon: 'none' });\r\n\t\t\t} finally {\r\n\t\t\t\tthis.refreshing = false;\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 新增：时间格式化方法（提取时分）\r\n\t\tformatTime(timestamp) {\r\n\t\t\tconst date = new Date(timestamp);\r\n\t\t\treturn `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\r\n\t\t},\r\n\t\t//月份格式化方法（输出如\"05月\"）\r\n    formatMonth(date) {\r\n      const month = (date.getMonth() + 1).toString().padStart(2, '0'); // 月份从0开始，+1后补零\r\n      return `${month}月`;\r\n    },\r\n\t\t// 新增：日期格式化方法（输出如\"05\"）\r\n    formatDay(date) {\r\n      return date.getDate().toString().padStart(2, '0'); // 日期补零到两位\r\n    },\r\n\t\tgetStatusClass(item) {\r\n      return item.status; // 直接返回状态标识（与样式中的.status-tag.upcoming等类名对应）\r\n    },\r\n\t\t// 新增：状态文本转换方法（将状态标识转为中文）\r\n    getStatusText(item) {\r\n      const status = item.status;\r\n      switch (status) {\r\n        case 'upcoming': return '未开始';\r\n        case 'ongoing': return '进行中';\r\n        case 'ended': return '已结束';\r\n        default: return '未知状态';\r\n      }\r\n    },\r\n\t\t// 新增：标签类名映射（与addactivities.vue保持一致）\r\n\t\tgetTagClass(category) {\r\n\t\t\tconst tagMap = {\r\n\t\t\t\t'官方': 'official',\r\n\t\t\t\t'社团': 'club',\r\n\t\t\t\t'学术': 'academic',\r\n\t\t\t\t'娱乐': 'entertainment',\r\n\t\t\t\t'体育': 'sports'\r\n\t\t\t};\r\n\t\t\treturn tagMap[category] || '';\r\n\t\t},\r\n\t\t\r\n\t\t// 新增：状态计算（根据活动时间和当前时间）\r\n\t\tgetStatus(activityTime) {\r\n\t\t\tconst now = new Date().getTime();\r\n\t\t\tif (activityTime > now) return 'upcoming'; // 未开始\r\n\t\t\tif (activityTime <= now && activityTime + 86400000 > now) return 'ongoing'; // 进行中（假设持续1天）\r\n\t\t\treturn 'ended'; // 已结束\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/styles/variables.scss';\r\n@import '@/styles/common.scss';\r\n@import '@/styles/platform-mp.scss';\r\n\r\n.activities-container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmin-height: 100vh;\r\n\tbackground-color: #F8F9FC;\r\n}\r\n\r\n/* 日期选择器 */\r\n.date-scroll {\r\n\tbackground-color: $white;\r\n\tpadding: $spacing-sm 0;\r\n\twhite-space: nowrap;\r\n\twidth: 100%;\r\n\t-webkit-overflow-scrolling: touch;\r\n\toverflow-x: auto;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.02);\r\n}\r\n\r\n.date-list {\r\n\tdisplay: inline-flex;\r\n\tpadding: 0 $spacing-base;\r\n\talign-items: center;\r\n\theight: 120rpx; /* 固定高度 */\r\n}\r\n\r\n.date-item {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\twidth: 80rpx;\r\n\theight: 100rpx;\r\n\tmargin-right: $spacing-lg;\r\n\tborder-radius: $border-radius-lg;\r\n\ttransition: all $transition-fast, transform 0.2s;\r\n\tposition: relative;\r\n\tbackground: #fff;\r\n\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.06);\r\n\t&:active {\r\n\t\ttransform: scale(1.08);\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba($primary-color, 0.12);\r\n\t}\r\n\t&.active {\r\n\t\tbackground-color: $primary-color;\r\n\t\ttransform: scale(1.05);\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.25);\r\n\t\t.day, .weekday { color: $white; }\r\n\t\t.dot { background-color: $white; }\r\n\t}\r\n\t.day {\r\n\t\tfont-size: $font-size-lg;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: $dark-gray;\r\n\t\tmargin-bottom: 4rpx;\r\n\t}\r\n\t.weekday {\r\n\t\tfont-size: $font-size-sm;\r\n\t\tcolor: $gray;\r\n\t}\r\n\t.dot {\r\n\t\tposition: absolute;\r\n\t\tbottom: -2rpx;\r\n\t\twidth: 10rpx;\r\n\t\theight: 10rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: $primary-color;\r\n\t}\r\n}\r\n\r\n.date-ani {\r\n\topacity: 0;\r\n\ttransform: translateY(-30rpx);\r\n\tanimation: fadeInUp 0.7s 0.1s forwards;\r\n}\r\n\r\n/* 筛选区域 */\r\n.filter-wrapper {\r\n\tbackground-color: $white;\r\n\tpadding: 0 0 $spacing-sm;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tborder-bottom: 1rpx solid rgba(0, 0, 0, 0.02);\r\n}\r\n\r\n.filter-scroll {\r\n\twidth: 100%;\r\n\twhite-space: nowrap;\r\n\t-webkit-overflow-scrolling: touch;\r\n\toverflow-x: auto;\r\n}\r\n\r\n.filter-list {\r\n\tdisplay: inline-flex;\r\n\tpadding: 0 $spacing-base;\r\n\talign-items: center;\r\n\theight: 80rpx;\r\n}\r\n\r\n.filter-item {\r\n\tpadding: $spacing-xs $spacing-lg;\r\n\tmargin-right: $spacing-sm;\r\n\tborder-radius: $border-radius-lg;\r\n\tfont-size: $font-size-sm;\r\n\tcolor: $dark-gray;\r\n\tbackground-color: rgba(0, 0, 0, 0.03);\r\n\ttransition: all $transition-fast, transform 0.2s;\r\n\t&:active {\r\n\t\ttransform: scale(1.08);\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.10);\r\n\t}\r\n\t&.active {\r\n\t\tbackground-color: $primary-color;\r\n\t\tcolor: $white;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.25);\r\n\t}\r\n}\r\n\r\n.filter-ani {\r\n\topacity: 0;\r\n\ttransform: translateY(-20rpx);\r\n\tanimation: fadeInUp 0.7s 0.2s forwards;\r\n}\r\n\r\n@keyframes fadeInUp {\r\n\tto {\r\n\t\topacity: 1;\r\n\t\ttransform: translateY(0);\r\n\t}\r\n}\r\n\r\n/* 内容区域 */\r\n.content-scroll {\r\n\tflex: 1;\r\n\theight: calc(100vh - 300rpx); /* 调整高度以适应顶部区域 */\r\n}\r\n\r\n.activity-fullview {\r\n\tpadding: $spacing-base;\r\n}\r\n\r\n.activity-item {\r\n\tdisplay: flex;\r\n\tmargin-bottom: 30rpx;\r\n\tbackground: $white;\r\n\tborder-radius: 20rpx;\r\n\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);\r\n\toverflow: hidden;\r\n\tborder: 1rpx solid rgba(0, 0, 0, 0.02);\r\n\tposition: relative;\r\n\tpadding: 0;\r\n\theight: auto;\r\n\ttransition: transform 0.2s, box-shadow 0.2s;\r\n\t&:active {\r\n\t\ttransform: scale(1.03);\r\n\t\tbox-shadow: 0 8rpx 32rpx rgba($primary-color, 0.12);\r\n\t}\r\n\t.activity-date-block {\r\n\t\twidth: 100rpx;\r\n\t\tpadding: 24rpx 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbackground: #f6f8fa;\r\n\t\tborder-radius: 20rpx 0 0 20rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0,0,0,0.03);\r\n\t\tborder-right: 1rpx solid #f0f0f0;\r\n\t\t.month {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: $gray;\r\n\t\t}\r\n\t\t.day {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: $primary-color;\r\n\t\t\tmargin-top: 8rpx;\r\n\t\t}\r\n\t}\r\n\t.activity-content {\r\n\t\tflex: 1;\r\n\t\tpadding: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.activity-image {\r\n\t\theight: 180rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\tbackground-color: $bg-color;\r\n\t\tbox-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.05);\r\n\t\ttransition: box-shadow 0.2s;\r\n\t}\r\n\t.activity-info {\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\t.activity-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: $primary-color;\r\n\t\tmargin-bottom: 12rpx;\r\n\t\tline-height: 1.3;\r\n\t\tletter-spacing: 2rpx;\r\n\t}\r\n\t.activity-meta {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\t.iconfont {\r\n\t\t\tmargin-right: 6rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t}\r\n\t}\r\n\t.activity-tags {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 12rpx;\r\n\t\tflex-wrap: wrap;\r\n\t\t.tag {\r\n\t\t\tpadding: 4rpx 16rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tmargin-right: 12rpx;\r\n\t\t\tmargin-bottom: 10rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\t&.official {\r\n\t\t\t\tbackground-color: rgba($primary-color, 0.1);\r\n\t\t\t\tcolor: $primary-color;\r\n\t\t\t}\r\n\t\t\t&.club {\r\n\t\t\t\tbackground-color: rgba(#5B2EE6, 0.1);\r\n\t\t\t\tcolor: #5B2EE6;\r\n\t\t\t}\r\n\t\t\t&.academic {\r\n\t\t\t\tbackground-color: rgba(#06A788, 0.1);\r\n\t\t\t\tcolor: #06A788;\r\n\t\t\t}\r\n\t\t\t&.entertainment {\r\n\t\t\t\tbackground-color: rgba($warning-color, 0.1);\r\n\t\t\t\tcolor: $warning-color;\r\n\t\t\t}\r\n\t\t\t&.sports {\r\n\t\t\t\tbackground-color: rgba(#FF3366, 0.1);\r\n\t\t\t\tcolor: #FF3366;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.status-tag {\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tpadding: 4rpx 16rpx;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tmargin-right: 12rpx;\r\n\t\t\tmargin-bottom: 10rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\t&.upcoming {\r\n\t\t\t\tbackground: rgba($primary-color, 0.1);\r\n\t\t\t\tcolor: $primary-color;\r\n\t\t\t}\r\n\t\t\t&.ongoing {\r\n\t\t\t\tbackground: rgba($success-color, 0.1);\r\n\t\t\t\tcolor: $success-color;\r\n\t\t\t}\r\n\t\t\t&.ended {\r\n\t\t\t\tbackground: rgba($gray, 0.1);\r\n\t\t\t\tcolor: $gray;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.action-btn-group {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\tmargin-top: 12rpx;\r\n\t\tpadding-top: 12rpx;\r\n\t\t.action-btn {\r\n\t\t\tpadding: 8rpx 24rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tborder-radius: 24rpx;\r\n\t\t\tmargin-left: 12rpx;\r\n\t\t\tbackground: linear-gradient(90deg, $primary-color, lighten($primary-color, 10%));\r\n\t\t\tcolor: #fff;\r\n\t\t\tborder: none;\r\n\t\t\ttransition: all 0.2s;\r\n\t\t\tline-height: 1.5;\r\n\t\t\theight: auto;\r\n\t\t\tmin-height: 0;\r\n\t\t\tfont-weight: 500;\r\n\t\t\t&:after { display: none; }\r\n\t\t\t&:active {\r\n\t\t\t\ttransform: scale(0.96);\r\n\t\t\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.18);\r\n\t\t\t}\r\n\t\t}\r\n\t\t.secondary {\r\n\t\t\tbackground: #fff;\r\n\t\t\tcolor: #2d5af1;\r\n\t\t\tborder: 3rpx solid #2d5af1;\r\n\t\t\tbox-shadow: none;\r\n\t\t\tfont-weight: 500;\r\n\t\t\ttransition: background 0.2s, color 0.2s, border 0.2s;\r\n\t\t}\r\n\t\t.secondary:active {\r\n\t\t\tbackground: #f5f7fa;\r\n\t\t\tcolor: #1741a7;\r\n\t\t\tborder-color: #1741a7;\r\n\t\t}\r\n\t\t.primary {\r\n\t\t\tbackground: linear-gradient(90deg, #2d5af1, lighten(#2d5af1, 10%));\r\n\t\t\tcolor: #fff;\r\n\t\t\tborder: none;\r\n\t\t\tbox-shadow: 0 2rpx 6rpx rgba(#2d5af1, 0.18);\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\t\t.primary:active {\r\n\t\t\tbackground: linear-gradient(90deg, #1741a7, #2d5af1);\r\n\t\t\tbox-shadow: 0 1rpx 4rpx rgba(#2d5af1, 0.10);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.card-ani {\r\n\topacity: 0;\r\n\ttransform: translateY(40rpx);\r\n\tanimation: cardFadeIn 0.7s 0.3s forwards;\r\n}\r\n@keyframes cardFadeIn {\r\n\tto {\r\n\t\topacity: 1;\r\n\t\ttransform: translateY(0);\r\n\t}\r\n}\r\n\r\n/* 加载和空状态 */\r\n.loading-ani {\r\n\topacity: 0;\r\n\tanimation: fadeInUp 0.7s 0.4s forwards;\r\n}\r\n.empty-ani {\r\n\topacity: 0;\r\n\tanimation: fadeInUp 0.7s 0.5s forwards;\r\n}\r\n\r\n@keyframes rotate {\r\n\tfrom {\r\n\t\ttransform: rotate(0deg);\r\n\t}\r\n\tto {\r\n\t\ttransform: rotate(360deg);\r\n\t}\r\n}\r\n\r\n\r\n</style>","import MiniProgramPage from 'D:/2大花/毕业设计/Compus/pages/circle/activities/activities.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;AAuGA,IAAKA,SAAA,GAAU;EACdC,IAAA,WAAAA,KAAA,EAAO;IACNC,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,SAAS;IACrB,OAAO;MACNC,UAAA,EAAY;MACZC,OAAA,EAAS;MACTC,MAAA,EAAQ;MACRC,UAAA,EAAY;MACZC,YAAA,EAAc;MACdC,IAAA,EAAM;MACNC,KAAA,EAAO,KAAKC,aAAA,EAAe;MAC3BC,OAAA,EAAS,CACR;QAAEC,IAAA,EAAM;MAAM,GACd;QAAEA,IAAA,EAAM;MAAM,GACd;QAAEA,IAAA,EAAM;MAAM,GACd;QAAEA,IAAA,EAAM;MAAM,GACd;QAAEA,IAAA,EAAM;MAAM,GACd;QAAEA,IAAA,EAAM;MAAM,EACd;MACDC,UAAA,EAAY,EAAE;MACdC,WAAA,EAAa;MACbC,aAAA,EAAe;MACfC,WAAA,EAAa;IAAA;EAEd;EACDC,MAAA,WAAAA,OAAOC,OAAA,EAAS;IACflB,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,YAAYgB,OAAO;IAE/B,IAAIA,OAAA,CAAQC,MAAA,EAAQ;MACnB,IAAMlB,KAAA,GAAQ,KAAKU,OAAA,CAAQS,SAAA,CAAU,UAAAC,CAAA;QAAA,OAAKA,CAAA,CAAET,IAAA,KAASM,OAAA,CAAQC,MAAM;MAAA;MACnE,IAAIlB,KAAA,KAAU,IAAI;QACjB,KAAKM,YAAA,GAAeN,KAAA;MACrB;IACD;IAEA,KAAKqB,eAAA,EAAe;EACpB;EACDC,OAAA,WAAAA,QAAA,EAAU;IAAA,IAAAC,KAAA;IACTxB,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,WAAW;IACvBuB,UAAA,CAAW,YAAM;MAAED,KAAA,CAAKV,WAAA,GAAc;MAAMU,KAAA,CAAKT,aAAA,GAAgB;MAAMS,KAAA,CAAKR,WAAA,GAAc;IAAO,GAAE,GAAG;EACtG;EACDU,OAAA,EAAS;IAAA;IAERhB,aAAA,WAAAA,cAAA,EAAgB;MACfV,aAAA,CAAAC,KAAA,CAAYC,KAAA,0EAAiB;MAC7B,IAAMO,KAAA,GAAQ;MACd,IAAMkB,QAAA,GAAW,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;MACnD,IAAMC,GAAA,GAAM,mBAAIC,IAAA;MAEhB,SAASC,CAAA,GAAI,GAAGA,CAAA,GAAI,IAAIA,CAAA,IAAK;QAC5B,IAAMC,IAAA,GAAO,mBAAIF,IAAA;QACjBE,IAAA,CAAKC,OAAA,CAAQJ,GAAA,CAAIK,OAAA,EAAQ,GAAIH,CAAC;QAE9BrB,KAAA,CAAMyB,IAAA,CAAK;UACVC,GAAA,EAAKJ,IAAA,CAAKE,OAAA,EAAS;UACnBG,OAAA,EAAST,QAAA,CAASI,IAAA,CAAKM,MAAA,EAAQ;UAC/BN,IAAA,EAAAA,IAAA;UACAO,SAAA,EAAWC,IAAA,CAAKC,MAAA,EAAM,GAAK;UAAA;QAC5B,CAAC;MACF;;MAEA,OAAO/B,KAAA;IACP;IAAA;IAGDgC,UAAA,WAAAA,WAAWxC,KAAA,EAAO;MACjBD,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,gBAAgBD,KAAK;MACjC,IAAI,KAAKK,UAAA,KAAeL,KAAA,EAAO;MAE/B,KAAKK,UAAA,GAAaL,KAAA;MAClB,KAAKyC,SAAA,EAAS;IACd;IAAA;IAGDC,YAAA,WAAAA,aAAa1C,KAAA,EAAO;MACnBD,aAAA,CAAYC,KAAA,CAAAC,KAAA,2EAAkBD,KAAK;MACnC,IAAI,KAAKM,YAAA,KAAiBN,KAAA,EAAO;MAEjC,KAAKM,YAAA,GAAeN,KAAA;MACpB,KAAKyC,SAAA,EAAS;IACd;IAAA;IAGDA,SAAA,WAAAA,UAAA,EAAY;MACX1C,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,aAAa;MACzB,IAAI,KAAKC,UAAA,EAAY;MAErB,KAAKA,UAAA,GAAa;MAClB,KAAKK,IAAA,GAAO;MACZ,KAAKH,MAAA,GAAS;MACd,KAAKiB,eAAA,EAAe;IACpB;IAAA;IAGDsB,UAAA,WAAAA,WAAA,EAAa;MACZ5C,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,cAAc;MAC1B,IAAI,KAAKE,OAAA,IAAW,KAAKC,MAAA,EAAQ;MAEjC,KAAKG,IAAA;MACL,KAAKc,eAAA,CAAgB,IAAI;IACzB;IAAA;IAGKA,eAAA,WAAAA,gBAAA,EAAoC;MAAA,IAAAuB,UAAA,GAAAC,SAAA;QAAAC,MAAA;MAAA,OAAAC,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,UAAA,EAAAC,KAAA,EAAAC,GAAA,EAAAC,aAAA,EAAAC,mBAAA;QAAA,OAAAP,oBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAApBT,UAAA,GAAAP,UAAA,CAAAiB,MAAA,QAAAjB,UAAA,QAAAkB,SAAA,GAAAlB,UAAA,MAAa;cAClC7C,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,uBAAuB;gBAAEkD,UAAA,EAAAA,UAAA;gBAAY5C,IAAA,EAAMuC,MAAA,CAAKvC;cAAK,CAAC;cAClE,IAAI4C,UAAA,EAAYL,MAAA,CAAK3C,OAAA,GAAU;cAAAuD,QAAA,CAAAC,IAAA;cAGxBP,KAAA,GAAQ;gBACbW,YAAA,EAAc;cAAA;cAIf,IAAIjB,MAAA,CAAKxC,YAAA,KAAiB,GAAG;gBAC5B8C,KAAA,CAAMY,QAAA,GAAWlB,MAAA,CAAKpC,OAAA,CAAQoC,MAAA,CAAKxC,YAAY,EAAEK,IAAA;cAClD;cAEAZ,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,SAASmD,KAAK;cAAAM,QAAA,CAAAE,IAAA;cAAA,OAGR7D,aAAA,CAAQkE,EAAA,CAACC,QAAA,EAAS,CACnCC,UAAA,CAAW,aAAa,EACxBf,KAAA,CAAMA,KAAK,EACXgB,OAAA,CAAQ,iBAAiB,MAAM,EAC/BC,IAAA,EAAMvB,MAAA,CAAKvC,IAAA,GAAO,KAAK,CAAC,EACxB+D,KAAA,CAAM,CAAC,EACPC,GAAA;YAAA;cANKlB,GAAA,GAAAK,QAAA,CAAAc,IAAA;cAQNzE,aAAA,CAAAC,KAAA,CAAAC,KAAA,yDAAY,YAAYoD,GAAA,CAAIoB,MAAA,CAAO3E,IAAI;cAGjCwD,aAAA,GAAgBD,GAAA,CAAIoB,MAAA,CAAO3E,IAAA,IAAQ;cACnCyD,mBAAA,GAAsBD,aAAA,CAAcoB,GAAA,CAAI,UAAAC,IAAA,EAAS;;gBAAA;kBACtDC,EAAA,EAAID,IAAA,CAAKE,GAAA;kBACTC,KAAA,EAAOH,IAAA,CAAKG,KAAA;kBACZC,KAAA,IAAOC,EAAA,GAAAL,IAAA,CAAKM,KAAA,KAAL,gBAAAD,EAAA,CAAa,OAAM;kBAC1BlD,IAAA,EAAM,IAAIF,IAAA,CAAK+C,IAAA,CAAKO,aAAa;kBACjCC,IAAA,EAAMrC,MAAA,CAAKsC,UAAA,CAAWT,IAAA,CAAKO,aAAa;kBACxCG,QAAA,EAAUV,IAAA,CAAKU,QAAA;kBACfC,YAAA,EAAcX,IAAA,CAAKY,cAAA,IAAkB;kBACrCC,GAAA,EAAKb,IAAA,CAAKX,QAAA;kBACVyB,QAAA,EAAU3C,MAAA,CAAK4C,WAAA,CAAYf,IAAA,CAAKX,QAAQ;kBACxC2B,MAAA,EAAQ7C,MAAA,CAAK8C,SAAA,CAAUjB,IAAA,CAAKO,aAAa;gBACzC;cAAA,CAAC;cAEFnF,aAAA,CAAYC,KAAA,CAAAC,KAAA,qEAAYsD,mBAAmB;cAE3C,IAAI,CAACJ,UAAA,EAAY;gBAChBL,MAAA,CAAKlC,UAAA,GAAa2C,mBAAA;cAAA,OACZ;gBACNT,MAAA,CAAKlC,UAAA,MAAAiF,MAAA,CAAAC,mBAAA,CAAiBhD,MAAA,CAAKlC,UAAA,GAAAkF,mBAAA,CAAevC,mBAAmB;cAC9D;cAGAT,MAAA,CAAK1C,MAAA,GAASkD,aAAA,CAAcO,MAAA,GAAS;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAqC,EAAA,GAAArC,QAAA;cAErC3D,aAAA,CAAAC,KAAA,CAAAC,KAAA,2DAAc,UAAAyD,QAAA,CAAAqC,EAAA,CAAa;cAC3BhG,aAAA,CAAGC,KAAA,CAACgG,SAAA,CAAU;gBAAElB,KAAA,EAAO;gBAAQmB,IAAA,EAAM;cAAK,CAAG;YAAA;cAAAvC,QAAA,CAAAC,IAAA;cAE7Cb,MAAA,CAAK5C,UAAA,GAAa;cAClB4C,MAAA,CAAK3C,OAAA,GAAU;cAAA,OAAAuD,QAAA,CAAAwC,MAAA;YAAA;YAAA;cAAA,OAAAxC,QAAA,CAAAyC,IAAA;UAAA;QAAA,GAAAjD,OAAA;MAAA;IAEhB;IAAA;IAGDkC,UAAA,WAAAA,WAAWgB,SAAA,EAAW;MACrB,IAAMtE,IAAA,GAAO,IAAIF,IAAA,CAAKwE,SAAS;MAC/B,UAAAP,MAAA,CAAU/D,IAAA,CAAKuE,QAAA,EAAU,CAACC,QAAA,EAAQ,CAAGC,QAAA,CAAS,GAAG,GAAG,CAAC,OAAAV,MAAA,CAAI/D,IAAA,CAAK0E,UAAA,EAAY,CAACF,QAAA,EAAU,CAACC,QAAA,CAAS,GAAG,GAAG,CAAC;IACtG;IAAA;IAECE,WAAA,WAAAA,YAAY3E,IAAA,EAAM;MAChB,IAAM4E,KAAA,IAAS5E,IAAA,CAAK6E,QAAA,KAAa,GAAGL,QAAA,EAAQ,CAAGC,QAAA,CAAS,GAAG,GAAG;MAC9D,UAAAV,MAAA,CAAUa,KAAK;IAChB;IAAA;IAEDE,SAAA,WAAAA,UAAU9E,IAAA,EAAM;MACd,OAAOA,IAAA,CAAKE,OAAA,GAAUsE,QAAA,EAAU,CAACC,QAAA,CAAS,GAAG,GAAG;IACjD;IACHM,cAAA,WAAAA,eAAelC,IAAA,EAAM;MACjB,OAAOA,IAAA,CAAKgB,MAAA;IACb;IAAA;IAEDmB,aAAA,WAAAA,cAAcnC,IAAA,EAAM;MAClB,IAAMgB,MAAA,GAAShB,IAAA,CAAKgB,MAAA;MACpB,QAAQA,MAAA;QACN,KAAK;UAAY,OAAO;QACxB,KAAK;UAAW,OAAO;QACvB,KAAK;UAAS,OAAO;QACrB;UAAS,OAAO;MAAA;IAEnB;IAAA;IAEHD,WAAA,WAAAA,YAAY1B,QAAA,EAAU;MACrB,IAAM+C,MAAA,GAAS;QACd,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;MAAA;MAEP,OAAOA,MAAA,CAAO/C,QAAQ,KAAK;IAC3B;IAAA;IAGD4B,SAAA,WAAAA,UAAUoB,YAAA,EAAc;MACvB,IAAMrF,GAAA,GAAM,mBAAIC,IAAA,EAAM,CAACqF,OAAA,EAAO;MAC9B,IAAID,YAAA,GAAerF,GAAA,EAAK,OAAO;MAC/B,IAAIqF,YAAA,IAAgBrF,GAAA,IAAOqF,YAAA,GAAe,QAAWrF,GAAA,EAAK,OAAO;MACjE,OAAO;IACR;EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzTAuF,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}