{"version":3,"names":["_sfc_main","name","emits","options","virtualHost","props","value","type","Object","default","_default","modelValue","model","rules","errShowType","String","validateTrigger","labelPosition","labelWidth","Number","labelAlign","border","Boolean","provide","uniForm","data","formData","formRules","computed","localData","localVal","uni_modules_uniForms_components_uniForms_utils","deepCopy","watch","handler","val","oldVal","setRules","deep","immediate","created","getbinddata","getApp","$vm","$","appContext","config","globalProperties","binddata","formName","$refs","setValue","formVm","i","vm","$options","common_vendor","index","__f__","childrens","inputChildrens","methods","assign","validator","uni_modules_uniForms_components_uniForms_validate","SchemaValidator","key","example","find","child","getValue","onFieldChange","validate","keepitem","callback","checkAll","validateField","_this","arguments","length","undefined","concat","invalidFields","forEach","item","realName","indexOf","_defineProperty2","clearValidate","errMsg","submit","_this2","_loop","itemData","v","_getValue","dataValue","_this3","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","_loop2","promise","results","tempFormData","_i","result","resetFormData","wrap","_callee$","_context2","prev","next","abrupt","_loop2$","_context","push","stop","t0","keys","t1","done","delegateYield","Promise","resolve","reject","valid","invalidFields2","JSON","parse","stringify","t3","t4","sent","Array","isArray","vName","getDataValue","$emit","detail","errors","rawData","validateCheck","_isRequiredField","isRequiredField","_setDataValue","setDataValue","_getDataValue","_realName","_isRealName","isRealName","_isEqual","isEqual","wx","createComponent","Component"],"sources":["uni-forms.vue","RDovMuWkp-iKsS_mr5XkuJrorr7orqEvQ29tcHVzL3VuaV9tb2R1bGVzL3VuaS1mb3Jtcy9jb21wb25lbnRzL3VuaS1mb3Jtcy91bmktZm9ybXMudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"uni-forms\">\r\n\t\t<form>\r\n\t\t\t<slot></slot>\r\n\t\t</form>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Validator from './validate.js';\r\n\timport {\r\n\t\tdeepCopy,\r\n\t\tgetValue,\r\n\t\tisRequiredField,\r\n\t\tsetDataValue,\r\n\t\tgetDataValue,\r\n\t\trealName,\r\n\t\tisRealName,\r\n\t\trawData,\r\n\t\tisEqual\r\n\t} from './utils.js'\r\n\r\n\t// #ifndef VUE3\r\n\t// 后续会慢慢废弃这个方法\r\n\timport Vue from 'vue';\r\n\tVue.prototype.binddata = function(name, value, formName) {\r\n\t\tif (formName) {\r\n\t\t\tthis.$refs[formName].setValue(name, value);\r\n\t\t} else {\r\n\t\t\tlet formVm;\r\n\t\t\tfor (let i in this.$refs) {\r\n\t\t\t\tconst vm = this.$refs[i];\r\n\t\t\t\tif (vm && vm.$options && vm.$options.name === 'uniForms') {\r\n\t\t\t\t\tformVm = vm;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!formVm) return console.error('当前 uni-froms 组件缺少 ref 属性');\r\n\t\t\tformVm.setValue(name, value);\r\n\t\t}\r\n\t};\r\n\t// #endif\r\n\t/**\r\n\t * Forms 表单\r\n\t * @description 由输入框、选择器、单选框、多选框等控件组成，用以收集、校验、提交数据\r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?id=2773\r\n\t * @property {Object} rules\t表单校验规则\r\n\t * @property {String} validateTrigger = [bind|submit|blur]\t校验触发器方式 默认 submit\r\n\t * @value bind\t\t发生变化时触发\r\n\t * @value submit\t提交时触发\r\n\t * @value blur\t  失去焦点时触发\r\n\t * @property {String} labelPosition = [top|left]\tlabel 位置 默认 left\r\n\t * @value top\t\t顶部显示 label\r\n\t * @value left\t左侧显示 label\r\n\t * @property {String} labelWidth\tlabel 宽度，默认 70px\r\n\t * @property {String} labelAlign = [left|center|right]\tlabel 居中方式  默认 left\r\n\t * @value left\t\tlabel 左侧显示\r\n\t * @value center\tlabel 居中\r\n\t * @value right\t\tlabel 右侧对齐\r\n\t * @property {String} errShowType = [undertext|toast|modal]\t校验错误信息提示方式\r\n\t * @value undertext\t错误信息在底部显示\r\n\t * @value toast\t\t\t错误信息toast显示\r\n\t * @value modal\t\t\t错误信息modal显示\r\n\t * @event {Function} submit\t提交时触发\r\n\t * @event {Function} validate\t校验结果发生变化触发\r\n\t */\r\n\texport default {\r\n\t\tname: 'uniForms',\r\n\t\temits: ['validate', 'submit'],\r\n\t\toptions: {\n\t\t\t// #ifdef MP-TOUTIAO\n\t\t\tvirtualHost: false,\n\t\t\t// #endif\n\t\t\t// #ifndef MP-TOUTIAO\n\t\t\tvirtualHost: true\n\t\t\t// #endif\n\t\t},\r\n\t\tprops: {\r\n\t\t\t// 即将弃用\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// vue3 替换 value 属性\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 1.4.0 开始将不支持 v-model ，且废弃 value 和 modelValue\r\n\t\t\tmodel: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 表单校验规则\r\n\t\t\trules: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//校验错误信息提示方式 默认 undertext 取值 [undertext|toast|modal]\r\n\t\t\terrShowType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'undertext'\r\n\t\t\t},\r\n\t\t\t// 校验触发器方式 默认 bind 取值 [bind|submit]\r\n\t\t\tvalidateTrigger: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'submit'\r\n\t\t\t},\r\n\t\t\t// label 位置，默认 left 取值  top/left\r\n\t\t\tlabelPosition: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'left'\r\n\t\t\t},\r\n\t\t\t// label 宽度\r\n\t\t\tlabelWidth: {\r\n\t\t\t\ttype: [String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// label 居中方式，默认 left 取值 left/center/right\r\n\t\t\tlabelAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'left'\r\n\t\t\t},\r\n\t\t\tborder: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tprovide() {\r\n\t\t\treturn {\r\n\t\t\t\tuniForm: this\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 表单本地值的记录，不应该与传如的值进行关联\r\n\t\t\t\tformData: {},\r\n\t\t\t\tformRules: {}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 计算数据源变化的\r\n\t\t\tlocalData() {\r\n\t\t\t\tconst localVal = this.model || this.modelValue || this.value\r\n\t\t\t\tif (localVal) {\r\n\t\t\t\t\treturn deepCopy(localVal)\r\n\t\t\t\t}\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 监听数据变化 ,暂时不使用，需要单独赋值\r\n\t\t\t// localData: {},\r\n\t\t\t// 监听规则变化\r\n\t\t\trules: {\r\n\t\t\t\thandler: function(val, oldVal) {\r\n\t\t\t\t\tthis.setRules(val)\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true,\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// #ifdef VUE3\r\n\t\t\tlet getbinddata = getApp().$vm.$.appContext.config.globalProperties.binddata\r\n\t\t\tif (!getbinddata) {\r\n\t\t\t\tgetApp().$vm.$.appContext.config.globalProperties.binddata = function(name, value, formName) {\r\n\t\t\t\t\tif (formName) {\r\n\t\t\t\t\t\tthis.$refs[formName].setValue(name, value);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet formVm;\r\n\t\t\t\t\t\tfor (let i in this.$refs) {\r\n\t\t\t\t\t\t\tconst vm = this.$refs[i];\r\n\t\t\t\t\t\t\tif (vm && vm.$options && vm.$options.name === 'uniForms') {\r\n\t\t\t\t\t\t\t\tformVm = vm;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!formVm) return console.error('当前 uni-froms 组件缺少 ref 属性');\r\n\t\t\t\t\t\tif(formVm.model)formVm.model[name] = value\r\n\t\t\t\t\t\tif(formVm.modelValue)formVm.modelValue[name] = value\r\n\t\t\t\t\t\tif(formVm.value)formVm.value[name] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// 子组件实例数组\r\n\t\t\tthis.childrens = []\r\n\t\t\t// TODO 兼容旧版 uni-data-picker ,新版本中无效，只是避免报错\r\n\t\t\tthis.inputChildrens = []\r\n\t\t\tthis.setRules(this.rules)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 设置规则 ，主要用于小程序自定义检验规则\r\n\t\t\t * @param {Array} rules 规则源数据\r\n\t\t\t */\r\n\t\t\tsetRules(rules) {\r\n\t\t\t\t// TODO 有可能子组件合并规则的时机比这个要早，所以需要合并对象 ，而不是直接赋值，可能会被覆盖\r\n\t\t\t\tthis.formRules = Object.assign({}, this.formRules, rules)\r\n\t\t\t\t// 初始化校验函数\r\n\t\t\t\tthis.validator = new Validator(rules);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 设置数据，用于设置表单数据，公开给用户使用 ， 不支持在动态表单中使用\r\n\t\t\t * @param {Object} key\r\n\t\t\t * @param {Object} value\r\n\t\t\t */\r\n\t\t\tsetValue(key, value) {\r\n\t\t\t\tlet example = this.childrens.find(child => child.name === key);\r\n\t\t\t\tif (!example) return null;\r\n\t\t\t\tthis.formData[key] = getValue(key, value, (this.formRules[key] && this.formRules[key].rules) || [])\r\n\t\t\t\treturn example.onFieldChange(this.formData[key]);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 手动提交校验表单\r\n\t\t\t * 对整个表单进行校验的方法，参数为一个回调函数。\r\n\t\t\t * @param {Array} keepitem 保留不参与校验的字段\r\n\t\t\t * @param {type} callback 方法回调\r\n\t\t\t */\r\n\t\t\tvalidate(keepitem, callback) {\r\n\t\t\t\treturn this.checkAll(this.formData, keepitem, callback);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 部分表单校验\r\n\t\t\t * @param {Array|String} props 需要校验的字段\r\n\t\t\t * @param {Function} 回调函数\r\n\t\t\t */\r\n\t\t\tvalidateField(props = [], callback) {\r\n\t\t\t\tprops = [].concat(props);\r\n\t\t\t\tlet invalidFields = {};\r\n\t\t\t\tthis.childrens.forEach(item => {\r\n\t\t\t\t\tconst name = realName(item.name)\r\n\t\t\t\t\tif (props.indexOf(name) !== -1) {\r\n\t\t\t\t\t\tinvalidFields = Object.assign({}, invalidFields, {\r\n\t\t\t\t\t\t\t[name]: this.formData[name]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn this.checkAll(invalidFields, [], callback);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 移除表单项的校验结果。传入待移除的表单项的 prop 属性或者 prop 组成的数组，如不传则移除整个表单的校验结果\r\n\t\t\t * @param {Array|String} props 需要移除校验的字段 ，不填为所有\r\n\t\t\t */\r\n\t\t\tclearValidate(props = []) {\r\n\t\t\t\tprops = [].concat(props);\r\n\t\t\t\tthis.childrens.forEach(item => {\r\n\t\t\t\t\tif (props.length === 0) {\r\n\t\t\t\t\t\titem.errMsg = '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst name = realName(item.name)\r\n\t\t\t\t\t\tif (props.indexOf(name) !== -1) {\r\n\t\t\t\t\t\t\titem.errMsg = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法 ，即将废弃\r\n\t\t\t * 手动提交校验表单\r\n\t\t\t * 对整个表单进行校验的方法，参数为一个回调函数。\r\n\t\t\t * @param {Array} keepitem 保留不参与校验的字段\r\n\t\t\t * @param {type} callback 方法回调\r\n\t\t\t */\r\n\t\t\tsubmit(keepitem, callback, type) {\r\n\t\t\t\tfor (let i in this.dataValue) {\r\n\t\t\t\t\tconst itemData = this.childrens.find(v => v.name === i);\r\n\t\t\t\t\tif (itemData) {\r\n\t\t\t\t\t\tif (this.formData[i] === undefined) {\r\n\t\t\t\t\t\t\tthis.formData[i] = this._getValue(i, this.dataValue[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!type) {\r\n\t\t\t\t\tconsole.warn('submit 方法即将废弃，请使用validate方法代替！');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.checkAll(this.formData, keepitem, callback, 'submit');\r\n\t\t\t},\r\n\r\n\t\t\t// 校验所有\r\n\t\t\tasync checkAll(invalidFields, keepitem, callback, type) {\r\n\t\t\t\t// 不存在校验规则 ，则停止校验流程\r\n\t\t\t\tif (!this.validator) return\r\n\t\t\t\tlet childrens = []\r\n\t\t\t\t// 处理参与校验的item实例\r\n\t\t\t\tfor (let i in invalidFields) {\r\n\t\t\t\t\tconst item = this.childrens.find(v => realName(v.name) === i)\r\n\t\t\t\t\tif (item) {\r\n\t\t\t\t\t\tchildrens.push(item)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果validate第一个参数是funciont ,那就走回调\r\n\t\t\t\tif (!callback && typeof keepitem === 'function') {\r\n\t\t\t\t\tcallback = keepitem;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet promise;\r\n\t\t\t\t// 如果不存在回调，那么使用 Promise 方式返回\r\n\t\t\t\tif (!callback && typeof callback !== 'function' && Promise) {\r\n\t\t\t\t\tpromise = new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tcallback = function(valid, invalidFields) {\r\n\t\t\t\t\t\t\t!valid ? resolve(invalidFields) : reject(valid);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet results = [];\r\n\t\t\t\t// 避免引用错乱 ，建议拷贝对象处理\r\n\t\t\t\tlet tempFormData = JSON.parse(JSON.stringify(invalidFields))\r\n\t\t\t\t// 所有子组件参与校验,使用 for 可以使用  awiat\r\n\t\t\t\tfor (let i in childrens) {\r\n\t\t\t\t\tconst child = childrens[i]\r\n\t\t\t\t\tlet name = realName(child.name);\r\n\t\t\t\t\tconst result = await child.onFieldChange(tempFormData[name]);\r\n\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\tresults.push(result);\r\n\t\t\t\t\t\t// toast ,modal 只需要执行第一次就可以\r\n\t\t\t\t\t\tif (this.errShowType === 'toast' || this.errShowType === 'modal') break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (Array.isArray(results)) {\r\n\t\t\t\t\tif (results.length === 0) results = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (Array.isArray(keepitem)) {\r\n\t\t\t\t\tkeepitem.forEach(v => {\r\n\t\t\t\t\t\tlet vName = realName(v);\r\n\t\t\t\t\t\tlet value = getDataValue(v, this.localData)\r\n\t\t\t\t\t\tif (value !== undefined) {\r\n\t\t\t\t\t\t\ttempFormData[vName] = value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// TODO submit 即将废弃\r\n\t\t\t\tif (type === 'submit') {\r\n\t\t\t\t\tthis.$emit('submit', {\r\n\t\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\t\tvalue: tempFormData,\r\n\t\t\t\t\t\t\terrors: results\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$emit('validate', results);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// const resetFormData = rawData(tempFormData, this.localData, this.name)\r\n\t\t\t\tlet resetFormData = {}\r\n\t\t\t\tresetFormData = rawData(tempFormData, this.name)\r\n\t\t\t\tcallback && typeof callback === 'function' && callback(results, resetFormData);\r\n\r\n\t\t\t\tif (promise && callback) {\r\n\t\t\t\t\treturn promise;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 返回validate事件\r\n\t\t\t * @param {Object} result\r\n\t\t\t */\r\n\t\t\tvalidateCheck(result) {\r\n\t\t\t\tthis.$emit('validate', result);\r\n\t\t\t},\r\n\t\t\t_getValue: getValue,\r\n\t\t\t_isRequiredField: isRequiredField,\r\n\t\t\t_setDataValue: setDataValue,\r\n\t\t\t_getDataValue: getDataValue,\r\n\t\t\t_realName: realName,\r\n\t\t\t_isRealName: isRealName,\r\n\t\t\t_isEqual: isEqual\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.uni-forms {}\r\n</style>\r\n","import Component from 'D:/2大花/毕业设计/Compus/uni_modules/uni-forms/components/uni-forms/uni-forms.vue'\nwx.createComponent(Component)"],"mappings":"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","ignoreList":[]}