{"version":3,"file":"activities.js","sources":["pages/circle/activities/activities.vue","../../../Software/hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2lyY2xlL2FjdGl2aXRpZXMvYWN0aXZpdGllcy52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"activities-container\">\r\n\t\t<!-- 日期选择器 -->\r\n\t\t<scroll-view class=\"date-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t<view class=\"date-list\">\r\n\t\t\t\t<view v-for=\"(date, index) in dates\" :key=\"index\" class=\"date-item date-ani\"\r\n\t\t\t\t\t:class=\"{ active: activeDate === index }\" @tap=\"switchDate(index)\">\r\n\t\t\t\t\t<text class=\"day\">{{ date.day }}</text>\r\n\t\t\t\t\t<text class=\"weekday\">{{ date.weekday }}</text>\r\n\t\t\t\t\t<view class=\"dot\" v-if=\"date.hasEvents\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\r\n\t\t<!-- 筛选标签 -->\r\n\t\t<view class=\"filter-wrapper\">\r\n\t\t\t<scroll-view class=\"filter-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t\t<view class=\"filter-list\">\r\n\t\t\t\t\t<view v-for=\"(filter, index) in filters\" :key=\"index\" class=\"filter-item filter-ani\"\r\n\t\t\t\t\t\t:class=\"{ active: activeFilter === index }\" @tap=\"switchFilter(index)\">\r\n\t\t\t\t\t\t<text>{{ filter.name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 活动列表 -->\r\n\t\t<scroll-view class=\"content-scroll\" scroll-y=\"true\" refresher-enabled=\"true\" :refresher-triggered=\"refreshing\"\r\n\t\t\t@refresherrefresh=\"onRefresh\" @scrolltolower=\"onLoadMore\">\r\n\t\t\t<view class=\"activity-fullview\">\r\n\t\t\t\t<view class=\"activity-item card-ani\" v-for=\"(item, index) in activities\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"activity-date-block\">\r\n\t\t\t\t\t\t<text class=\"month\">{{ formatMonth(item.date) }}</text>\r\n\t\t\t\t\t\t<text class=\"day\">{{ formatDay(item.date) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"activity-content\">\r\n\t\t\t\t\t\t<image class=\"activity-image\" :src=\"item.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"activity-info\">\r\n\t\t\t\t\t\t\t<text class=\"activity-title\">{{ item.title }}</text>\r\n\t\t\t\t\t\t\t<view class=\"activity-meta\">\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont icon-shijian\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"time-text\">{{ item.time }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont icon-location ml-lg\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"location-text\">{{ item.location }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"activity-meta\">\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont icon-huodong\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"participant-text\">{{ item.participants }}人参与</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"activity-tags\">\r\n\t\t\t\t\t\t\t\t<text class=\"tag\" :class=\"item.tagClass\">{{ item.tag }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"status-tag\" :class=\"getStatusClass(item)\">{{ getStatusText(item) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"action-btn-group\">\r\n\t\t\t\t\t\t\t<button class=\"action-btn secondary clickable-mp\" @tap.stop=\"viewDetail(item)\">查看详情</button>\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tclass=\"action-btn primary clickable-mp\" \r\n\t\t\t\t\t\t\t\t:class=\"{ 'disabled': item.hasJoined }\"\r\n\t\t\t\t\t\t\t\tv-if=\"canJoin(item)\"\r\n\t\t\t\t\t\t\t\t@tap.stop=\"joinActivity(item)\"\r\n\t\t\t\t\t\t\t>{{ item.hasJoined ? '已参与' : '立即参与' }}</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 加载和空状态 -->\r\n\t\t\t\t<view class=\"loading loading-ani\" v-if=\"loading\">\r\n\t\t\t\t\t<text class=\"iconfont icon-loading loading-icon\"></text>\r\n\t\t\t\t\t<text class=\"text-sm text-gray\">加载中...</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"empty-state empty-ani\" v-if=\"activities.length === 0 && !loading\">\r\n\t\t\t\t\t<text class=\"iconfont icon-empty empty-icon\"></text>\r\n\t\t\t\t\t<text class=\"empty-text\">暂无活动</text>\r\n\t\t\t\t\t<button class=\"btn btn-outline mt-base clickable-mp\" @tap=\"onRefresh\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-shijian mr-xs\"></text>刷新试试\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"end-text\" v-if=\"noMore && activities.length > 0 && !loading\">\r\n\t\t\t\t\t<text class=\"text-sm text-gray\">没有更多活动了</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\tconsole.log('data初始化');\r\n\t\t\treturn {\r\n\t\t\t\trefreshing: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tnoMore: false,\r\n\t\t\t\tactiveDate: 0,\r\n\t\t\t\tactiveFilter: 0,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tdates: this.generateDates(),\r\n\t\t\t\t// 新增：存储当前选中的日期对象（精确到天）\r\n\t\t\t\tselectedDate: null,\r\n\t\t\t\tfilters: [{\r\n\t\t\t\t\t\tname: '全部'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '官方'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '社团'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '学术'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '娱乐'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '体育'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tactivities: [],\r\n\t\t\t\tdateAniShow: false,\r\n\t\t\t\tfilterAniShow: false,\r\n\t\t\t\tcardAniShow: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log('onLoad执行', options);\r\n\t\t\t// 初始化选中日期为第一个日期\r\n\t\t\tthis.selectedDate = this.dates[0].date;\r\n\t\t\t// 页面加载时初始化数据\r\n\t\t\tthis.fetchActivities();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconsole.log('mounted执行');\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.dateAniShow = true;\r\n\t\t\t\tthis.filterAniShow = true;\r\n\t\t\t\tthis.cardAniShow = true;\r\n\t\t\t}, 100);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.onRefresh();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 生成日期数据\r\n\t\t\tgenerateDates() {\r\n\t\t\t\tconsole.log('generateDates执行');\r\n\t\t\t\tconst dates = [];\r\n\t\t\t\tconst weekdays = ['日', '一', '二', '三', '四', '五', '六'];\r\n\t\t\t\tconst now = new Date();\r\n\r\n\t\t\t\tfor (let i = 0; i < 14; i++) {\r\n\t\t\t\t\tconst date = new Date();\r\n\t\t\t\t\tdate.setDate(now.getDate() + i);\r\n\r\n\t\t\t\t\tdates.push({\r\n\t\t\t\t\t\tday: date.getDate(),\r\n\t\t\t\t\t\tweekday: weekdays[date.getDay()],\r\n\t\t\t\t\t\tdate: date,\r\n\t\t\t\t\t\thasEvents: Math.random() > 0.5, // 模拟是否有活动\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn dates;\r\n\t\t\t},\r\n\r\n\t\t\t// 切换日期\r\n\t\t\tswitchDate(index) {\r\n\t\t\t\tconsole.log('switchDate执行', index);\r\n\t\t\t\tif (this.activeDate === index) return;\r\n\r\n\t\t\t\tthis.activeDate = index;\r\n\t\t\t\t// 更新选中日期为当前点击的日期对象\r\n\t\t\t\tthis.selectedDate = this.dates[index].date;\r\n\t\t\t\tthis.onRefresh();\r\n\t\t\t},\r\n\r\n\t\t\t// 切换筛选条件\r\n\t\t\tswitchFilter(index) {\r\n\t\t\t\tconsole.log('switchFilter执行', index);\r\n\t\t\t\tif (this.activeFilter === index) return;\r\n\r\n\t\t\t\tthis.activeFilter = index;\r\n\t\t\t\tthis.onRefresh();\r\n\t\t\t},\r\n\r\n\t\t\t// 下拉刷新\r\n\t\t\tonRefresh() {\r\n\t\t\t\tconsole.log('onRefresh执行');\r\n\t\t\t\tif (this.refreshing) return;\r\n\r\n\t\t\t\tthis.refreshing = true;\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.noMore = false;\r\n\t\t\t\tthis.fetchActivities();\r\n\t\t\t},\r\n\r\n\t\t\t// 上拉加载更多\r\n\t\t\tonLoadMore() {\r\n\t\t\t\tconsole.log('onLoadMore执行');\r\n\t\t\t\tif (this.loading || this.noMore) return;\r\n\r\n\t\t\t\tthis.page++;\r\n\t\t\t\tthis.fetchActivities(true);\r\n\t\t\t},\r\n\r\n\t\t\t// 获取活动数据\r\n\t\t\tasync fetchActivities(isLoadMore = false) {\r\n\t\t\t\tconsole.log('fetchActivities开始执行', {\r\n\t\t\t\t\tisLoadMore,\r\n\t\t\t\t\tpage: this.page\r\n\t\t\t\t});\r\n\t\t\t\tif (isLoadMore) this.loading = true;\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 获取当前用户ID\r\n\t\t\t\t\tconst userId = uni.getStorageSync('uni-id-pages-userInfo')._id;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 构建查询条件\r\n\t\t\t\t\tconst where = {\r\n\t\t\t\t\t\tcontent_type: 'activity'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// 日期过滤\r\n\t\t\t\t\tconst startOfDay = new Date(this.selectedDate);\r\n\t\t\t\t\tstartOfDay.setHours(0, 0, 0, 0);\r\n\t\t\t\t\tconst endOfDay = new Date(this.selectedDate);\r\n\t\t\t\t\tendOfDay.setHours(23, 59, 59, 999);\r\n\r\n\t\t\t\t\twhere.activity_time = {\r\n\t\t\t\t\t\t$gte: startOfDay.getTime(),\r\n\t\t\t\t\t\t$lte: endOfDay.getTime()\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// 处理分类筛选\r\n\t\t\t\t\tif (this.activeFilter !== 0) {\r\n\t\t\t\t\t\twhere.category = this.filters[this.activeFilter].name;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 云数据库查询\r\n\t\t\t\t\tconst res = await uniCloud.database()\r\n\t\t\t\t\t\t.collection('add-content')\r\n\t\t\t\t\t\t.where(where)\r\n\t\t\t\t\t\t.orderBy('activity_time', 'desc')\r\n\t\t\t\t\t\t.skip((this.page - 1) * 5)\r\n\t\t\t\t\t\t.limit(5)\r\n\t\t\t\t\t\t.get();\r\n\r\n\t\t\t\t\t// 获取用户参与状态\r\n\t\t\t\t\tlet userJoins = new Set();\r\n\t\t\t\t\tif (userId) {\r\n\t\t\t\t\t\tconst joinsRes = await uniCloud.database().collection('activity_participants')\r\n\t\t\t\t\t\t\t.where({\r\n\t\t\t\t\t\t\t\tuser_id: userId,\r\n\t\t\t\t\t\t\t\tactivity_id: uniCloud.database().command.in(res.result.data.map(a => a._id))\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.get();\r\n\t\t\t\t\t\tuserJoins = new Set(joinsRes.result.data.map(j => j.activity_id));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 处理返回数据\r\n\t\t\t\t\tconst rawActivities = res.result.data || [];\r\n\t\t\t\t\tconst formattedActivities = rawActivities.map(item => ({\r\n\t\t\t\t\t\tid: item._id,\r\n\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\timage: item.files?.[0] || '/static/images/activity-default.png',\r\n\t\t\t\t\t\tdate: new Date(item.activity_time),\r\n\t\t\t\t\t\ttime: this.formatTime(item.activity_time),\r\n\t\t\t\t\t\tlocation: item.location,\r\n\t\t\t\t\t\tparticipants: item.attendee_count || 0,\r\n\t\t\t\t\t\ttag: item.category,\r\n\t\t\t\t\t\ttagClass: this.getTagClass(item.category),\r\n\t\t\t\t\t\tstatus: this.getStatus(item.activity_time),\r\n\t\t\t\t\t\thasJoined: userJoins.has(item._id) // 添加参与状态\r\n\t\t\t\t\t}));\r\n\r\n\t\t\t\t\tif (!isLoadMore) {\r\n\t\t\t\t\t\tthis.activities = formattedActivities;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.activities = [...this.activities, ...formattedActivities];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.noMore = rawActivities.length < 5;\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('获取活动失败', err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '加载失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.refreshing = false;\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 时间格式化方法（提取时分）\r\n\t\t\tformatTime(timestamp) {\r\n\t\t\t\tconst date = new Date(timestamp);\r\n\t\t\t\treturn `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\r\n\t\t\t},\r\n\t\t\t//月份格式化方法（输出如\"05月\"）\r\n\t\t\tformatMonth(date) {\r\n\t\t\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0'); // 月份从0开始，+1后补零\r\n\t\t\t\treturn `${month}月`;\r\n\t\t\t},\r\n\t\t\t// 日期格式化方法（输出如\"05\"）\r\n\t\t\tformatDay(date) {\r\n\t\t\t\treturn date.getDate().toString().padStart(2, '0'); // 日期补零到两位\r\n\t\t\t},\r\n\t\t\tgetStatusClass(item) {\r\n\t\t\t\treturn item.status; // 直接返回状态标识（与样式中的.status-tag.upcoming等类名对应）\r\n\t\t\t},\r\n\t\t\t// 状态文本转换方法（将状态标识转为中文）\r\n\t\t\tgetStatusText(item) {\r\n\t\t\t\tconst status = item.status;\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase 'upcoming':\r\n\t\t\t\t\t\treturn '未开始';\r\n\t\t\t\t\tcase 'ongoing':\r\n\t\t\t\t\t\treturn '进行中';\r\n\t\t\t\t\tcase 'ended':\r\n\t\t\t\t\t\treturn '已结束';\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn '未知状态';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 判断活动是否可以参与\r\n\t\t\tcanJoin(item) {\r\n\t\t\t\t// 如果活动已结束，不能参与\r\n\t\t\t\tif (item.status === 'ended') return false;\r\n\r\n\t\t\t\t// 如果活动正在进行中或未开始，可以参与\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t// 查看活动详情\r\n\t\t\tviewDetail(item) {\r\n\t\t\t\tconsole.log('查看活动详情', item);\r\n\t\t\t\t// 跳转到活动详情页\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/circle/activity-datail/activity-datail?id=${item.id}`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 参与活动\r\n\t\t\tasync joinActivity(item) {\r\n\t\t\t\tconsole.log('参与活动', item);\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 检查登录状态\r\n\t\t\t\t\tconst token = uni.getStorageSync('uni_id_token');\r\n\t\t\t\t\tif (!token) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '请先登录后再参与活动',\r\n\t\t\t\t\t\t\tconfirmText: '去登录',\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 调用云函数\r\n\t\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\t\tname: 'joinactivity',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tactivityId: item.id,\r\n\t\t\t\t\t\t\ttoken: token\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (res.result.success) {\r\n\t\t\t\t\t\tuni.showToast({ title: '参与成功', icon: 'success' });\r\n\t\t\t\t\t\tthis.onRefresh();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 处理特定的错误码\r\n\t\t\t\t\t\tif (res.result.code === 'TOKEN_INVALID') {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: '登录状态已失效，请重新登录',\r\n\t\t\t\t\t\t\t\tconfirmText: '去登录',\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({ \r\n\t\t\t\t\t\t\t\ttitle: res.result.message || '参与失败', \r\n\t\t\t\t\t\t\t\ticon: 'none' \r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('参与活动失败', err);\r\n\t\t\t\t\tuni.showToast({ title: '参与失败，请稍后重试', icon: 'none' });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 标签类名映射（与addactivities.vue保持一致）\r\n\t\t\tgetTagClass(category) {\r\n\t\t\t\tconst tagMap = {\r\n\t\t\t\t\t'官方': 'official',\r\n\t\t\t\t\t'社团': 'club',\r\n\t\t\t\t\t'学术': 'academic',\r\n\t\t\t\t\t'娱乐': 'entertainment',\r\n\t\t\t\t\t'体育': 'sports'\r\n\t\t\t\t};\r\n\t\t\t\treturn tagMap[category] || '';\r\n\t\t\t},\r\n\r\n\t\t\t// 状态计算（根据活动时间和当前时间）\r\n\t\t\tgetStatus(activityTime) {\r\n\t\t\t\tconst now = new Date().getTime();\r\n\t\t\t\tif (activityTime > now) return 'upcoming'; // 未开始\r\n\t\t\t\tif (activityTime <= now && activityTime + 86400000 > now) return 'ongoing'; // 进行中（假设持续1天）\r\n\t\t\t\treturn 'ended'; // 已结束\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import '@/styles/variables.scss';\r\n\t@import '@/styles/common.scss';\r\n\t@import '@/styles/platform-mp.scss';\r\n\r\n\t.activities-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #F8F9FC;\r\n\t}\r\n\r\n\t/* 日期选择器 */\r\n\t.date-scroll {\r\n\t\tbackground-color: $white;\r\n\t\tpadding: $spacing-sm 0;\r\n\t\twhite-space: nowrap;\r\n\t\twidth: 100%;\r\n\t\t-webkit-overflow-scrolling: touch;\r\n\t\toverflow-x: auto;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.02);\r\n\t}\r\n\r\n\t.date-list {\r\n\t\tdisplay: inline-flex;\r\n\t\tpadding: 0 $spacing-base;\r\n\t\talign-items: center;\r\n\t\theight: 120rpx;\r\n\t\t/* 固定高度 */\r\n\t}\r\n\r\n\t.date-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 80rpx;\r\n\t\theight: 100rpx;\r\n\t\tmargin-right: $spacing-lg;\r\n\t\tborder-radius: $border-radius-lg;\r\n\t\ttransition: all $transition-fast, transform 0.2s;\r\n\t\tposition: relative;\r\n\t\tbackground: #fff;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.06);\r\n\r\n\t\t&:active {\r\n\t\t\ttransform: scale(1.08);\r\n\t\t\tbox-shadow: 0 4rpx 16rpx rgba($primary-color, 0.12);\r\n\t\t}\r\n\r\n\t\t&.active {\r\n\t\t\tbackground-color: $primary-color;\r\n\t\t\ttransform: scale(1.05);\r\n\t\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.25);\r\n\r\n\t\t\t.day,\r\n\t\t\t.weekday {\r\n\t\t\t\tcolor: $white;\r\n\t\t\t}\r\n\r\n\t\t\t.dot {\r\n\t\t\t\tbackground-color: $white;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.day {\r\n\t\t\tfont-size: $font-size-lg;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: $dark-gray;\r\n\t\t\tmargin-bottom: 4rpx;\r\n\t\t}\r\n\r\n\t\t.weekday {\r\n\t\t\tfont-size: $font-size-sm;\r\n\t\t\tcolor: $gray;\r\n\t\t}\r\n\r\n\t\t.dot {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: -2rpx;\r\n\t\t\twidth: 10rpx;\r\n\t\t\theight: 10rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground-color: $primary-color;\r\n\t\t}\r\n\t}\r\n\r\n\t.date-ani {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(-30rpx);\r\n\t\tanimation: fadeInUp 0.7s 0.1s forwards;\r\n\t}\r\n\r\n\t/* 筛选区域 */\r\n\t.filter-wrapper {\r\n\t\tbackground-color: $white;\r\n\t\tpadding: 0 0 $spacing-sm;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1rpx solid rgba(0, 0, 0, 0.02);\r\n\t}\r\n\r\n\t.filter-scroll {\r\n\t\twidth: 100%;\r\n\t\twhite-space: nowrap;\r\n\t\t-webkit-overflow-scrolling: touch;\r\n\t\toverflow-x: auto;\r\n\t}\r\n\r\n\t.filter-list {\r\n\t\tdisplay: inline-flex;\r\n\t\tpadding: 0 $spacing-base;\r\n\t\talign-items: center;\r\n\t\theight: 80rpx;\r\n\t}\r\n\r\n\t.filter-item {\r\n\t\tpadding: $spacing-xs $spacing-lg;\r\n\t\tmargin-right: $spacing-sm;\r\n\t\tborder-radius: $border-radius-lg;\r\n\t\tfont-size: $font-size-sm;\r\n\t\tcolor: $dark-gray;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.03);\r\n\t\ttransition: all $transition-fast, transform 0.2s;\r\n\r\n\t\t&:active {\r\n\t\t\ttransform: scale(1.08);\r\n\t\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.10);\r\n\t\t}\r\n\r\n\t\t&.active {\r\n\t\t\tbackground-color: $primary-color;\r\n\t\t\tcolor: $white;\r\n\t\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.25);\r\n\t\t}\r\n\t}\r\n\r\n\t.filter-ani {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(-20rpx);\r\n\t\tanimation: fadeInUp 0.7s 0.2s forwards;\r\n\t}\r\n\r\n\t@keyframes fadeInUp {\r\n\t\tto {\r\n\t\t\topacity: 1;\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\t}\r\n\r\n\t/* 内容区域 */\r\n\t.content-scroll {\r\n\t\tflex: 1;\r\n\t\theight: calc(100vh - 300rpx);\r\n\t\t/* 调整高度以适应顶部区域 */\r\n\t}\r\n\r\n\t.activity-fullview {\r\n\t\tpadding: $spacing-base;\r\n\t}\r\n\r\n\t.activity-item {\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tbackground: $white;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);\r\n\t\toverflow: hidden;\r\n\t\tborder: 1rpx solid rgba(0, 0, 0, 0.02);\r\n\t\tposition: relative;\r\n\t\tpadding: 0;\r\n\t\theight: auto;\r\n\t\ttransition: transform 0.2s, box-shadow 0.2s;\r\n\r\n\t\t&:active {\r\n\t\t\ttransform: scale(1.03);\r\n\t\t\tbox-shadow: 0 8rpx 32rpx rgba($primary-color, 0.12);\r\n\t\t}\r\n\r\n\t\t.activity-date-block {\r\n\t\t\twidth: 100rpx;\r\n\t\t\tpadding: 24rpx 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tbackground: #f6f8fa;\r\n\t\t\tborder-radius: 20rpx 0 0 20rpx;\r\n\t\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.03);\r\n\t\t\tborder-right: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.month {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: $gray;\r\n\t\t\t}\r\n\r\n\t\t\t.day {\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: $primary-color;\r\n\t\t\t\tmargin-top: 8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.activity-content {\r\n\t\t\tflex: 1;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t}\r\n\r\n\t\t.activity-image {\r\n\t\t\theight: 180rpx;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tmargin-bottom: 16rpx;\r\n\t\t\tbackground-color: $bg-color;\r\n\t\t\tbox-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.05);\r\n\t\t\ttransition: box-shadow 0.2s;\r\n\t\t}\r\n\r\n\t\t.activity-info {\r\n\t\t\tmargin-bottom: 16rpx;\r\n\t\t}\r\n\r\n\t\t.activity-title {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: $primary-color;\r\n\t\t\tmargin-bottom: 12rpx;\r\n\t\t\tline-height: 1.3;\r\n\t\t\tletter-spacing: 2rpx;\r\n\t\t}\r\n\r\n\t\t.activity-meta {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tmargin-bottom: 10rpx;\r\n\r\n\t\t\t.iconfont {\r\n\t\t\t\tmargin-right: 6rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.activity-tags {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-top: 12rpx;\r\n\t\t\tflex-wrap: wrap;\r\n\r\n\t\t\t.tag {\r\n\t\t\t\tpadding: 4rpx 16rpx;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tmargin-right: 12rpx;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\r\n\t\t\t\t&.official {\r\n\t\t\t\t\tbackground-color: rgba($primary-color, 0.1);\r\n\t\t\t\t\tcolor: $primary-color;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.club {\r\n\t\t\t\t\tbackground-color: rgba(#5B2EE6, 0.1);\r\n\t\t\t\t\tcolor: #5B2EE6;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.academic {\r\n\t\t\t\t\tbackground-color: rgba(#06A788, 0.1);\r\n\t\t\t\t\tcolor: #06A788;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.entertainment {\r\n\t\t\t\t\tbackground-color: rgba($warning-color, 0.1);\r\n\t\t\t\t\tcolor: $warning-color;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.sports {\r\n\t\t\t\t\tbackground-color: rgba(#FF3366, 0.1);\r\n\t\t\t\t\tcolor: #FF3366;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.status-tag {\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\tpadding: 4rpx 16rpx;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tmargin-right: 12rpx;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\r\n\t\t\t\t&.upcoming {\r\n\t\t\t\t\tbackground: rgba($primary-color, 0.1);\r\n\t\t\t\t\tcolor: $primary-color;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.ongoing {\r\n\t\t\t\t\tbackground: rgba($success-color, 0.1);\r\n\t\t\t\t\tcolor: $success-color;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.ended {\r\n\t\t\t\t\tbackground: rgba($gray, 0.1);\r\n\t\t\t\t\tcolor: $gray;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.action-btn-group {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\tmargin-top: 12rpx;\r\n\t\t\tpadding-top: 12rpx;\r\n\r\n\t\t\t.action-btn {\r\n\t\t\t\tpadding: 8rpx 24rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tborder-radius: 24rpx;\r\n\t\t\t\tmargin-left: 12rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, $primary-color, lighten($primary-color, 10%));\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tborder: none;\r\n\t\t\t\ttransition: all 0.2s;\r\n\t\t\t\tline-height: 1.5;\r\n\t\t\t\theight: auto;\r\n\t\t\t\tmin-height: 0;\r\n\t\t\t\tfont-weight: 500;\r\n\r\n\t\t\t\t&:after {\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&:active {\r\n\t\t\t\t\ttransform: scale(0.96);\r\n\t\t\t\t\tbox-shadow: 0 2rpx 8rpx rgba($primary-color, 0.18);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.secondary {\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\tcolor: #2d5af1;\r\n\t\t\t\tborder: 3rpx solid #2d5af1;\r\n\t\t\t\tbox-shadow: none;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\ttransition: background 0.2s, color 0.2s, border 0.2s;\r\n\t\t\t}\r\n\r\n\t\t\t.secondary:active {\r\n\t\t\t\tbackground: #f5f7fa;\r\n\t\t\t\tcolor: #1741a7;\r\n\t\t\t\tborder-color: #1741a7;\r\n\t\t\t}\r\n\r\n\t\t\t.primary {\r\n\t\t\t\tbackground: linear-gradient(90deg, #2d5af1, lighten(#2d5af1, 10%));\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tbox-shadow: 0 2rpx 6rpx rgba(#2d5af1, 0.18);\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t}\r\n\r\n\t\t\t.primary:active {\r\n\t\t\t\tbackground: linear-gradient(90deg, #1741a7, #2d5af1);\r\n\t\t\t\tbox-shadow: 0 1rpx 4rpx rgba(#2d5af1, 0.10);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.card-ani {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(40rpx);\r\n\t\tanimation: cardFadeIn 0.7s 0.3s forwards;\r\n\t}\r\n\r\n\t@keyframes cardFadeIn {\r\n\t\tto {\r\n\t\t\topacity: 1;\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\t}\r\n\r\n\t/* 加载和空状态 */\r\n\t.loading-ani {\r\n\t\topacity: 0;\r\n\t\tanimation: fadeInUp 0.7s 0.4s forwards;\r\n\t}\r\n\r\n\t.empty-ani {\r\n\t\topacity: 0;\r\n\t\tanimation: fadeInUp 0.7s 0.5s forwards;\r\n\t}\r\n\r\n\t@keyframes rotate {\r\n\t\tfrom {\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\r\n\t\tto {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/2大花/毕业设计/Compus/pages/circle/activities/activities.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud","res"],"mappings":"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"}