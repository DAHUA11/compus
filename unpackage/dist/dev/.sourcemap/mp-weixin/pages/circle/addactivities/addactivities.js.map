{"version":3,"file":"addactivities.js","sources":["pages/circle/addactivities/addactivities.vue","../../../Software/hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2lyY2xlL2FkZGFjdGl2aXRpZXMvYWRkYWN0aXZpdGllcy52dWU"],"sourcesContent":["<template>\n  <view class=\"add-activity-container\">\n    <!-- 顶部渐变提示 -->\n    <view class=\"header-gradient\">\n      <view class=\"header-title\">清晰标题更容易被推荐哦~</view>\n      <view class=\"header-desc\">为了让大家更好地了解活动，请介绍一下活动亮点、行程规划和注意事项等内容……</view>\n    </view>\n\n    <!-- 活动封面上传 -->\n    <view class=\"section cover-section\">\n      <view class=\"cover-upload\" @tap=\"chooseCover\">\n        <image v-if=\"cover\" :src=\"cover\" class=\"cover-img\"></image>\n        <view v-else class=\"cover-placeholder\">\n          <text class=\"iconfont icon-tianjia\"></text>\n          <view>上传活动封面</view>\n        </view>\n      </view>\n      <view v-if=\"isHot\" class=\"hot-badge\">活动爆品</view>\n    </view>\n\n    <!-- 活动标题/描述 -->\n    <view class=\"section\">\n      <input class=\"input-title\" v-model=\"title\" maxlength=\"30\" placeholder=\"请输入活动标题\" />\n      <textarea class=\"input-desc\" v-model=\"desc\" maxlength=\"100\" placeholder=\"请简单介绍活动内容...\" auto-height />\n    </view>\n\n    <!-- 活动类型 -->\n    <view class=\"section row-section\">\n      <view class=\"row-label\">活动类型</view>\n      <picker :range=\"typeOptions\" @change=\"onTypeChange\">\n        <view class=\"row-value\">{{ typeOptions[typeIndex] || '请选择' }}</view>\n      </picker>\n    </view>\n\n    <!-- 活动时间 -->\n    <view class=\"section row-section\">\n      <view class=\"row-label\">活动时间</view>\n      <picker mode=\"multiSelector\" :range=\"timeRange\" @change=\"onTimeChange\">\n        <view class=\"row-value\">{{ timeText || '请选择' }}</view>\n      </picker>\n    </view>\n\n    <!-- 活动地点 -->\n    <view class=\"section row-section\">\n      <view class=\"row-label\">活动地点</view>\n      <input class=\"row-value\" v-model=\"place\" placeholder=\"请输入活动地点\" />\n    </view>\n\n    <!-- 活动标签（多选） -->\n    <view class=\"section tag-section\">\n      <view class=\"row-label\">活动标签</view>\n      <view class=\"tag-list\">\n        <view\n          v-for=\"(tag, idx) in tagOptions\"\n          :key=\"idx\"\n          class=\"tag-chip\"\n          :class=\"{ active: selectedTags.includes(tag) }\"\n          @tap=\"toggleTag(tag)\"\n        >{{ tag }}</view>\n      </view>\n    </view>\n\n    <!-- 发布按钮 -->\n    <view class=\"footer\">\n      <view\n        class=\"btn-publish\"\n        :class=\"{ disabled: !canPublish }\"\n        @tap=\"canPublish ? publishActivity() : null\"\n      >\n        发布\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      cover: '',\n      isHot: true,\n      title: '',\n      desc: '',\n      typeOptions: ['官方', '社团', '学术', '体育', '娱乐', '其他'],\n      typeIndex: -1,\n      timeRange: [\n        ['05/01', '05/02', '05/03', '05/04', '05/05', '05/06', '05/07'],\n        ['10:00', '14:00', '18:00', '20:00']\n      ],\n      timeText: '',\n      place: '',\n      tagOptions: ['户外', '运动', '娱乐', '交友', '学习', '比赛', '官方', '自发'],\n      selectedTags: [],\n    };\n  },\n  computed: {\n    canPublish() {\n      return this.cover && this.title.trim() && this.desc.trim() && this.typeIndex !== -1 && this.timeText && this.place.trim();\n    }\n  },\n  methods: {\n    chooseCover() {\n      uni.chooseImage({\n        count: 1,\n        sizeType: ['compressed'],\n        sourceType: ['album', 'camera'],\n        success: (res) => {\n          this.cover = res.tempFilePaths[0];\n        }\n      });\n    },\n    onTypeChange(e) {\n      this.typeIndex = e.detail.value;\n    },\n    onTimeChange(e) {\n      const [dateIdx, timeIdx] = e.detail.value;\n      this.timeText = `${this.timeRange[0][dateIdx]} ${this.timeRange[1][timeIdx]}`;\n    },\n    toggleTag(tag) {\n      const idx = this.selectedTags.indexOf(tag);\n      if (idx > -1) {\n        this.selectedTags.splice(idx, 1);\n      } else {\n        this.selectedTags.push(tag);\n      }\n    },\n    publishActivity() {\n      if (!this.canPublish) return;\n      uni.showToast({ title: '发布成功', icon: 'success' });\n      setTimeout(() => {\n        uni.navigateBack();\n      }, 800);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.add-activity-container {\n  min-height: 100vh;\n  background: #f8f9fc;\n  padding-bottom: 120rpx;\n}\n.header-gradient {\n  background: linear-gradient(90deg, #eaffd0 0%, #fffbe8 100%);\n  padding: 32rpx 24rpx 18rpx 24rpx;\n  border-radius: 0 0 32rpx 32rpx;\n}\n.header-title {\n  font-size: 28rpx;\n  font-weight: 700;\n  color: #a3b800;\n  margin-bottom: 8rpx;\n}\n.header-desc {\n  font-size: 24rpx;\n  color: #b0b6be;\n}\n.section {\n  background: #fff;\n  border-radius: 20rpx;\n  margin: 24rpx 24rpx 0 24rpx;\n  padding: 24rpx;\n  box-shadow: 0 2rpx 8rpx rgba(77,124,191,0.04);\n}\n.cover-section {\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding-bottom: 0;\n\tpadding-bottom: 20rpx;\n}\n.cover-upload {\n  width: 160rpx;\n  height: 160rpx;\n  border-radius: 16rpx;\n  background: #f5f6fa;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 24rpx;\n  position: relative;\n  overflow: hidden;\n  border: 2rpx dashed #e0e0e0;\n  cursor: pointer;\n}\n.cover-img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 16rpx;\n}\n.cover-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #e0c97b;\n  font-size: 48rpx;\n}\n.icon-tianjia {\n  font-size: 60rpx;\n  color: #e0c97b;\n}\n.hot-badge {\n  position: absolute;\n  right: 0;\n  top: 0;\n  background: #222;\n  color: #ffe37c;\n  font-size: 22rpx;\n  border-radius: 12rpx;\n  padding: 4rpx 18rpx;\n  font-weight: 700;\n  transform: translateY(-50%);\n}\n.input-title {\n  // width: 100%;\n  font-size: 30rpx;\n  font-weight: 700;\n  color: #333;\n  background: #f8f9fc;\n\t// background-color: pink;\n  border: none;\n  border-radius: 12rpx;\n  padding: 18rpx;\n  margin-bottom: 12rpx;\n}\n.input-desc {\n  width: 95%;\n  min-height: 80rpx;\n  font-size: 26rpx;\n  color: #666;\n  background: #f8f9fc;\n\t// background-color: pink;\n  border: none;\n  border-radius: 12rpx;\n  padding: 18rpx;\n}\n.row-section {\n  display: flex;\n  align-items: center;\n  padding: 0 24rpx 0 0;\n  margin-bottom: 0;\n  margin-top: 0;\n  box-shadow: none;\n  border-radius: 16rpx;\n  background: #fff;\n  height: 80rpx;\n}\n.row-label {\n  font-size: 26rpx;\n  color: #888;\n  width: 160rpx;\n  flex-shrink: 0;\n}\n.row-value {\n  font-size: 28rpx;\n  color: #333;\n  flex: 1;\n  padding-left: 12rpx;\n}\n/* 活动标签 chips */\n.tag-section {\n  display: flex;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  gap: 12rpx;\n  padding-bottom: 8rpx;\n}\n.tag-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 18rpx;\n  margin-left: 12rpx;\n}\n.tag-chip {\n  padding: 10rpx 32rpx;\n  background: #f5f6fa;\n  border-radius: 32rpx;\n  color: #888;\n  font-size: 26rpx;\n  border: 2rpx solid transparent;\n  transition: all 0.2s;\n  font-weight: 500;\n}\n.tag-chip.active {\n  background: linear-gradient(90deg, #f7c948 0%, #f7e7b7 100%);\n  color: #c09853;\n  border-color: #f7c948;\n  font-weight: 700;\n}\n.footer {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fff;\n  padding: 18rpx 32rpx 24rpx 32rpx;\n  z-index: 10;\n}\n.btn-publish {\n  width: 92%;\n  margin: 0 auto;\n  height: 88rpx;\n  background: linear-gradient(90deg, #b7f36b 0%, #ffe37c 100%);\n  color: #222;\n  font-size: 32rpx;\n  font-weight: 700;\n  border-radius: 20rpx;\n  letter-spacing: 2rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: background 0.2s, opacity 0.2s;\n}\n.btn-publish.disabled {\n  background: #b2b2b4 !important;\n  color: #dadde3 !important;\n  opacity: 0.7;\n  pointer-events: none;\n}\n</style>\n","import MiniProgramPage from 'D:/2大花/毕业设计/Compus/pages/circle/addactivities/addactivities.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA4EA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,MAAM;AAAA,MACN,aAAa,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA,MAChD,WAAW;AAAA,MACX,WAAW;AAAA,QACT,CAAC,SAAS,SAAS,SAAS,SAAS,SAAS,SAAS,OAAO;AAAA,QAC9D,CAAC,SAAS,SAAS,SAAS,OAAO;AAAA,MACpC;AAAA,MACD,UAAU;AAAA,MACV,OAAO;AAAA,MACP,YAAY,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA,MAC3D,cAAc,CAAE;AAAA;EAEnB;AAAA,EACD,UAAU;AAAA,IACR,aAAa;AACX,aAAO,KAAK,SAAS,KAAK,MAAM,UAAU,KAAK,KAAK,KAAI,KAAM,KAAK,cAAc,MAAM,KAAK,YAAY,KAAK,MAAM;IACrH;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,cAAc;AACZA,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO;AAAA,QACP,UAAU,CAAC,YAAY;AAAA,QACvB,YAAY,CAAC,SAAS,QAAQ;AAAA,QAC9B,SAAS,CAAC,QAAQ;AAChB,eAAK,QAAQ,IAAI,cAAc,CAAC;AAAA,QAClC;AAAA,MACF,CAAC;AAAA,IACF;AAAA,IACD,aAAa,GAAG;AACd,WAAK,YAAY,EAAE,OAAO;AAAA,IAC3B;AAAA,IACD,aAAa,GAAG;AACd,YAAM,CAAC,SAAS,OAAO,IAAI,EAAE,OAAO;AACpC,WAAK,WAAW,GAAG,KAAK,UAAU,CAAC,EAAE,OAAO,CAAC,IAAI,KAAK,UAAU,CAAC,EAAE,OAAO,CAAC;AAAA,IAC5E;AAAA,IACD,UAAU,KAAK;AACb,YAAM,MAAM,KAAK,aAAa,QAAQ,GAAG;AACzC,UAAI,MAAM,IAAI;AACZ,aAAK,aAAa,OAAO,KAAK,CAAC;AAAA,aAC1B;AACL,aAAK,aAAa,KAAK,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACD,kBAAkB;AAChB,UAAI,CAAC,KAAK;AAAY;AACtBA,oBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAChD,iBAAW,MAAM;AACfA,sBAAG,MAAC,aAAY;AAAA,MACjB,GAAE,GAAG;AAAA,IACR;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrIA,GAAG,WAAW,eAAe;"}