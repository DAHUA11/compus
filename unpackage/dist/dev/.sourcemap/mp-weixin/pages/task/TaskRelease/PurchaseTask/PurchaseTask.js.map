{"version":3,"file":"PurchaseTask.js","sources":["pages/task/TaskRelease/PurchaseTask/PurchaseTask.vue","../../../Software/hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGFzay9UYXNrUmVsZWFzZS9QdXJjaGFzZVRhc2svUHVyY2hhc2VUYXNrLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 表单内容 -->\n    <scroll-view class=\"form-content\" scroll-y>\n      <!-- 求购信息 -->\n      <view class=\"form-section card-shadow\">\n        <view class=\"section-title\">求购信息</view>\n        \n        <!-- 求购物品图片参考区 -->\n        <view class=\"form-item\">\n          <view class=\"item-label info-label\">\n            <view class=\"icon-wrapper info-icon\">\n              <uni-icons type=\"image\" size=\"18\" color=\"#00BFFF\" />\n            </view>\n            <text class=\"info-text\">图片参考 (可选)</text>\n          </view>\n          <view class=\"upload-section\">\n            <view class=\"image-list\">\n              <view \n                class=\"image-item\" \n                v-for=\"(image, index) in images\" \n                :key=\"index\"\n              >\n                <image class=\"image-container\" :src=\"image\" mode=\"aspectFill\"></image>\n                <view class=\"delete-btn\" @tap.stop=\"handleDeleteImage(index)\">\n                  <uni-icons type=\"close\" size=\"16\" color=\"#ffffff\" />\n                </view>\n              </view>\n              <view \n                class=\"upload-btn gradient-bg\" \n                v-if=\"images.length < 3\"\n                @tap.stop=\"handleChooseImage\"\n              >\n                <uni-icons type=\"plusempty\" size=\"32\" color=\"#333333\" />\n                <text class=\"text-black\">{{ images.length }}/3</text>\n              </view>\n            </view>\n            <text class=\"upload-tip\">(上传相关参考图片)</text>\n          </view>\n        </view>\n\n        <!-- 求购物品名称 -->\n        <view class=\"form-item\">\n          <view class=\"item-label info-label\">\n            <view class=\"icon-wrapper info-icon\">\n              <uni-icons type=\"paperplane\" size=\"18\" color=\"#00BFFF\" />\n            </view>\n            <text class=\"info-text\">物品名称</text>\n          </view>\n          <view class=\"item-content input-container\">\n            <input \n              type=\"text\" \n              v-model=\"itemName\" \n              placeholder=\"请输入求购物品名称\"\n              placeholder-class=\"placeholder\"\n              maxlength=\"30\"\n            />\n          </view>\n        </view>\n\n        <!-- 求购物品类别 -->\n        <view class=\"form-item\">\n          <view class=\"item-label info-label\">\n            <view class=\"icon-wrapper info-icon\">\n              <uni-icons type=\"list\" size=\"18\" color=\"#00BFFF\" />\n            </view>\n            <text class=\"info-text\">物品类别</text>\n          </view>\n          <view class=\"item-content select-container\" @tap=\"handleSelectCategory\">\n            <view class=\"select-input\" :class=\"{ 'has-value': selectedCategory }\">\n              <text v-if=\"!selectedCategory\">请选择物品类别</text>\n              <text v-else>{{ selectedCategory }}</text>\n            </view>\n            <uni-icons :type=\"selectedCategory ? 'checkmark' : 'arrowright'\" size=\"16\" color=\"#00BFFF\" />\n          </view>\n        </view>\n\n        <!-- 求购物品成色期望 -->\n        <view class=\"form-item\">\n          <view class=\"item-label info-label\">\n            <view class=\"icon-wrapper info-icon\">\n              <uni-icons type=\"star\" size=\"18\" color=\"#00BFFF\" />\n            </view>\n            <text class=\"info-text\">成色期望</text>\n          </view>\n          <view class=\"item-content\">\n            <view class=\"condition-options\">\n              <view \n                class=\"condition-option\" \n                v-for=\"(condition, index) in conditions\" \n                :key=\"index\"\n                :class=\"{ active: selectedCondition === condition.value }\"\n                @tap=\"handleSelectCondition(condition.value)\"\n              >\n                <uni-icons :type=\"condition.icon\" size=\"20\" :color=\"selectedCondition === condition.value ? '#00BFFF' : '#333333'\" />\n                <text>{{ condition.label }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <!-- 联系人姓名输入框 -->\n        <view class=\"form-item\">\n          <view class=\"item-label info-label\">\n            <view class=\"icon-wrapper info-icon\">\n              <uni-icons type=\"person\" size=\"18\" color=\"#00BFFF\" />\n            </view>\n            <text class=\"info-text\">联系人姓名</text>\n          </view>\n          <view class=\"item-content input-container\">\n            <input\n              type=\"text\"\n              v-model=\"contactName\"\n              placeholder=\"请输入联系人姓名\"\n              placeholder-class=\"placeholder\"\n              maxlength=\"20\"\n            />\n          </view>\n        </view>\n\n        <!-- 联系电话输入框 -->\n        <view class=\"form-item\">\n          <view class=\"item-label info-label\">\n            <view class=\"icon-wrapper info-icon\">\n              <uni-icons type=\"phone\" size=\"18\" color=\"#00BFFF\" />\n            </view>\n            <text class=\"info-text\">联系电话</text>\n          </view>\n          <view class=\"item-content input-container\">\n            <input\n              type=\"number\"\n              v-model=\"contactPhone\"\n              placeholder=\"请输入联系电话\"\n              placeholder-class=\"placeholder\"\n              maxlength=\"11\"\n            />\n          </view>\n        </view>\n      </view>\n\n      <!-- 交易信息 -->\n      <view class=\"form-section card-shadow\">\n        <view class=\"section-title\">交易信息</view>\n        \n        <!-- 预算范围输入 -->\n        <view class=\"form-item\">\n          <view class=\"item-label trade-label\">\n            <view class=\"icon-wrapper trade-icon\">\n              <uni-icons type=\"wallet\" size=\"18\" color=\"#FF9F1C\" />\n            </view>\n            <text class=\"trade-text\">预算范围 (元)</text>\n          </view>\n          <view class=\"item-content price-container\">\n            <view class=\"price-input-wrapper\">\n              <view class=\"price-input\">\n                <input \n                  type=\"digit\" \n                  v-model=\"budgetRange\" \n                  placeholder=\"请输入预算范围\"\n                  placeholder-class=\"placeholder\"\n                />\n              </view>\n            </view>\n            <view class=\"ai-price-btn\" @tap=\"handleReferencePrice\">\n              <text>参考价格区间</text>\n            </view>\n          </view>\n        </view>\n\n        <!-- 是否接受类似物品推荐 -->\n        <view class=\"form-item\">\n          <view class=\"item-label trade-label\">\n            <view class=\"icon-wrapper trade-icon\">\n              <uni-icons type=\"heart\" size=\"18\" color=\"#FF9F1C\" />\n            </view>\n            <text class=\"trade-text\">类似物品推荐</text>\n          </view>\n          <view class=\"item-content\">\n            <view class=\"bargain-option\" @tap=\"handleToggleRecommend\">\n              <!-- 修改：switch组件使用 :checked 和 @change 替代 v-model -->\n              <switch \n                :checked=\"acceptRecommend\" \n                active-color=\"#00BFFF\" \n                @change=\"handleSwitchChange('acceptRecommend', $event)\" \n              />\n              <text>接受类似物品推荐</text>\n            </view>\n            <view class=\"bargain-range\" v-if=\"acceptRecommend\">\n              <input \n                type=\"text\" \n                v-model=\"recommendRange\" \n                placeholder=\"期望类似物品差异范围（选填，如：颜色不限，品牌可替代）\"\n                placeholder-class=\"placeholder\"\n              />\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 求购描述 -->\n      <view class=\"form-section card-shadow\">\n        <view class=\"section-title\">求购描述</view>\n        <view class=\"form-item\">\n          <view class=\"item-label setting-label\">\n            <view class=\"icon-wrapper setting-icon\">\n              <uni-icons type=\"compose\" size=\"18\" color=\"#47B960\" />\n            </view>\n            <text class=\"setting-text\">详细描述</text>\n          </view>\n          <view class=\"item-content\">\n            <textarea \n              v-model=\"description\" \n              placeholder=\"请详细描述求购需求（如特殊要求、使用场景等）\"\n              placeholder-class=\"placeholder\"\n              class=\"description-textarea\"\n              maxlength=\"500\"\n            />\n            <view class=\"word-count\">{{ description.length }}/500</view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 发布设置 -->\n      <view class=\"form-section card-shadow\">\n        <view class=\"section-title\">发布设置</view>\n        \n        <!-- 有效期 -->\n        <view class=\"form-item\">\n          <view class=\"item-label setting-label\">\n            <view class=\"icon-wrapper setting-icon\">\n              <uni-icons type=\"calendar\" size=\"18\" color=\"#47B960\" />\n            </view>\n            <text class=\"setting-text\">有效期</text>\n          </view>\n          <view class=\"item-content\" @tap=\"handleSelectDuration\">\n            <view class=\"select-input\">\n              <text v-if=\"!duration\">请选择有效期</text>\n              <text v-else>{{ duration }}天</text>\n            </view>\n            <uni-icons type=\"right\" size=\"16\" color=\"#999999\" />\n          </view>\n        </view>\n\n        <!-- 加急发布 -->\n        <view class=\"form-item\">\n          <view class=\"item-label setting-label\">\n            <view class=\"icon-wrapper setting-icon\">\n              <uni-icons type=\"notification-filled\" size=\"18\" color=\"#47B960\" />\n            </view>\n            <text class=\"setting-text\">加急发布</text>\n          </view>\n          <view class=\"item-content\">\n            <view class=\"urgent-option\" @tap=\"handleToggleUrgent\">\n              <!-- 修改：switch组件使用 :checked 和 @change 替代 v-model -->\n              <switch \n                :checked=\"isUrgent\" \n                active-color=\"#00BFFF\" \n                @change=\"handleSwitchChange('isUrgent', $event)\" \n              />\n              <text>加急发布</text>\n              <text class=\"urgent-fee\">（价格上浮30%）</text>\n            </view>\n          </view>\n        </view>\n\n        <!-- 价格明细 -->\n        <view class=\"price-breakdown\" v-if=\"isUrgent\">\n          <view class=\"breakdown-item\">\n            <text class=\"item-label\">基础价格</text>\n            <text class=\"item-value\">¥{{ budgetRange }}</text>\n          </view>\n          <view class=\"breakdown-item\">\n            <text class=\"item-label\">加急费用</text>\n            <text class=\"item-value\">+30%</text>\n          </view>\n          <view class=\"breakdown-item total\">\n            <text class=\"item-label\">总价格</text>\n            <text class=\"item-value\">¥{{ calculateTotalPrice() }}</text>\n          </view>\n        </view>\n      </view>\n\n      <!-- 底部操作栏的占位符，确保滚动区域底部有足够空间 -->\n      <view class=\"bottom-bar-placeholder\"></view>\n\n    </scroll-view>\n        \n    <!-- 底部操作栏 -->\n    <view class=\"bottom-bar\">\n      <button class=\"submit-btn\" @tap=\"handleSubmit\">发布求购</button>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      // 求购物品成色期望选项\n      conditions: [\n        { label: '全新', value: 'new', icon: 'star-filled' },\n        { label: '九成新', value: 'like-new', icon: 'star' },\n        { label: '八成新', value: 'good', icon: 'star-half' },\n        { label: '七成新', value: 'fair', icon: 'star-outline' }\n      ],\n\n      // 表单数据\n      images: [], // 图片参考\n      itemName: '', // 物品名称\n      selectedCategory: '', // 物品类别\n      selectedCondition: '', // 成色期望\n      budgetRange: '', // 预算范围\n      contactName: '', // 联系人姓名\n      contactPhone: '', // 联系电话\n      acceptRecommend: false, // 接受类似物品推荐\n      recommendRange: '', // 类似物品差异范围\n      description: '', // 求购描述\n      duration: '7', // 有效期\n      isUrgent: false, // 加急发布\n\n      // 测试模式配置\n      TEST_MODE: true, // 测试模式开关\n      TEST_USER: {\n        publisher: {\n          id: 'test_publisher_id',\n          nickname: '测试发布者',\n          avatar: '/static/avatar/default.png'\n        },\n        claimer: {\n          id: 'test_claimer_id',\n          nickname: '测试接单者',\n          avatar: '/static/avatar/default.png'\n        },\n        user: {\n          id: 'test_user_id',\n          nickname: '测试用户',\n          avatar: '/static/avatar/default.png'\n        }\n      }\n    }\n  },\n  methods: {\n    // 获取当前用户信息\n    getCurrentUser() {\n      if (this.TEST_MODE) {\n        const testRole = uni.getStorageSync('testRole') || 'user';\n        return this.TEST_USER[testRole] || this.TEST_USER.user;\n      } else {\n        return {\n          id: uni.getStorageSync('userId'),\n          nickname: uni.getStorageSync('userNickname'),\n          avatar: uni.getStorageSync('userAvatar')\n        };\n      }\n    },\n\n    // 处理选择图片\n    handleChooseImage() {\n      uni.chooseImage({\n        count: 3 - this.images.length, // 最多3张\n        success: (res) => {\n          // 直接使用临时文件路径\n          this.images = [...this.images, ...res.tempFilePaths];\n        }\n      });\n    },\n\n    // 处理删除图片\n    handleDeleteImage(index) {\n      this.images.splice(index, 1);\n    },\n\n    // 处理选择物品类别\n    handleSelectCategory() {\n      uni.showActionSheet({\n        itemList: ['学习用品', '电子产品', '服饰箱包', '图书教材', '运动器材', '其他'],\n        success: (res) => {\n          this.selectedCategory = ['学习用品', '电子产品', '服饰箱包', '图书教材', '运动器材', '其他'][res.tapIndex];\n        }\n      });\n    },\n\n    // 处理选择物品成色期望\n    handleSelectCondition(value) {\n      this.selectedCondition = value;\n    },\n\n    // 处理参考价格区间\n    handleReferencePrice() {\n      uni.showModal({\n        title: '参考价格区间',\n        content: '根据物品名称和类别，参考价格区间为 ¥XXX - ¥YYY（此为模拟数据）',\n        showCancel: false\n      });\n    },\n\n    // 处理接受类似物品推荐开关\n    handleToggleRecommend() {\n      this.acceptRecommend = !this.acceptRecommend;\n      if (!this.acceptRecommend) {\n        this.recommendRange = ''; // 不接受推荐清空差异范围\n      }\n    },\n\n    // 处理选择有效期\n    handleSelectDuration() {\n      uni.showActionSheet({\n        itemList: ['1天', '3天', '7天', '15天', '30天'],\n        success: (res) => {\n          this.duration = ['1', '3', '7', '15', '30'][res.tapIndex];\n        }\n      });\n    },\n\n    // 处理加急开关\n    handleToggleUrgent() {\n      this.isUrgent = !this.isUrgent;\n    },\n\n    // 处理返回\n    handleBack() {\n      uni.navigateBack();\n    },\n\n    // 处理帮助\n    handleHelp() {\n      uni.showModal({\n        title: '求购发布指南',\n        content: '1. 请如实填写求购信息\\n2. 上传相关参考图片\\n3. 详细描述求购需求\\n4. 填写合理的预算范围',\n        showCancel: false\n      });\n    },\n\n    // 计算总价格（包含加急费用）\n    calculateTotalPrice() {\n      const basePrice = parseFloat(this.budgetRange) || 0;\n      if (this.isUrgent) {\n        return (basePrice * 1.3).toFixed(2);\n      }\n      return basePrice.toFixed(2);\n    },\n\n    // 处理提交\n    handleSubmit() {\n      // 表单验证\n      if (!this.itemName) {\n        uni.showToast({\n          title: '请输入求购物品名称',\n          icon: 'none'\n        });\n        return;\n      }\n      if (!this.selectedCategory) {\n        uni.showToast({\n          title: '请选择物品类别',\n          icon: 'none'\n        });\n        return;\n      }\n      if (!this.selectedCondition) {\n        uni.showToast({\n          title: '请选择成色期望',\n          icon: 'none'\n        });\n        return;\n      }\n      if (!this.budgetRange) {\n        uni.showToast({\n          title: '请输入预算范围',\n          icon: 'none'\n        });\n        return;\n      }\n      if (!this.contactName) {\n        uni.showToast({\n          title: '请输入联系人姓名',\n          icon: 'none'\n        });\n        return;\n      }\n      if (!this.contactPhone) {\n        uni.showToast({\n          title: '请输入联系电话',\n          icon: 'none'\n        });\n        return;\n      }\n      if (!this.description) {\n        uni.showToast({\n          title: '请填写详细描述',\n          icon: 'none'\n        });        \n        return;\n      }\n      if (!this.duration) {\n        uni.showToast({\n          title: '请选择有效期',\n          icon: 'none'\n        });\n        return;\n      }\n\n      // 收集数据\n      const taskData = {\n        type: 'buy', // 求购任务类型\n        status: 'pending', // 初始状态为待接单\n        title: this.itemName, // 物品名称作为标题\n        description: this.description, // 详细描述\n        reward: parseFloat(this.calculateTotalPrice()), // 使用计算后的总价格\n        publishTime: new Date().toLocaleString('zh-CN'), // 发布时间\n        images: this.images, // 图片参考\n        latestUpdate: '等待卖家联系', // 添加初始最新动态\n        selectedCondition: this.selectedCondition, // 成色期望\n        contactName: this.contactName, // 联系人姓名\n        contactPhone: this.contactPhone, // 联系电话\n        acceptRecommend: this.acceptRecommend, // 接受类似物品推荐\n        recommendRange: this.recommendRange, // 类似物品差异范围\n        duration: parseInt(this.duration), // 有效期，转换为数字\n        isUrgent: this.isUrgent, // 加急发布\n        tags: this.isUrgent ? ['加急'] : [], // 添加加急标签\n        ownerType: 'published', // 添加ownerType字段，表示这是发布的任务\n        publisher: this.getCurrentUser() // 使用测试用户或真实用户信息\n      };\n\n      // 模拟提交成功后跳转到任务详情页\n      uni.showToast({\n        title: '发布成功',\n        icon: 'success',\n        success: () => {\n          // 跳转并传递数据\n          const taskInfoString = encodeURIComponent(JSON.stringify(taskData));\n          uni.navigateTo({\n            url: `/pages/task/TaskDetail/TaskDetail?taskInfo=${taskInfoString}`\n          });\n        }\n      });\n    },\n\n    // 处理switch开关变化\n    handleSwitchChange(field, event) {\n      // 获取switch组件的值\n      const value = event.detail.value;\n      \n      // 根据字段名更新对应的值\n      if (field === 'acceptRecommend') {\n        this.acceptRecommend = value;\n        if (!value) {\n          this.recommendRange = '';\n        }\n      } else if (field === 'isUrgent') {\n        this.isUrgent = value;\n      }\n    }\n  }\n}\n</script>\n\n<style>\n:root {\n  --primary-color: #00BFFF /* 主色调 - 天蓝色 */\n  --secondary-color: #FF9F1C /* 辅助色 - 活力橙 */\n  --success-color: #47B960 /* 成功色 - 清新绿 */\n  --error-color: #FF4D4F /* 错误色 */\n  --bg-color: #F0F8FF /* 背景色 - 淡蓝白 */\n  --info-color: #00BFFF /* 求购信息区颜色 */\n  --trade-color: #FF9F1C /* 交易信息区颜色 */\n  --setting-color: #47B960 /* 发布设置区颜色 */\n}\n\n.container {\n  min-height: 100vh;\n  background-color: var(--bg-color);\n  display: flex;\n  flex-direction: column\n}\n\n.form-content {\n  flex: 1;\n  padding: 30rpx;\n  padding-bottom: calc(30rpx + 120rpx)\n}\n\n.form-section {\n  background-color: #ffffff;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx\n}\n\n.card-shadow {\n  box-shadow: 0 8px 24px rgba(0, 191, 255, 0.08)\n}\n\n.section-title {\n  font-size: 16px;\n  font-weight: 500;\n  color: #333333;\n  margin-bottom: 20rpx\n}\n\n.form-item {\n  margin-bottom: 30rpx;\n  position: relative\n}\n\n.form-item:not(:last-child)::after {\n  content: \"\";\n  display: block;\n  height: 1px;\n  background: linear-gradient(to right, transparent, #E0F3FF, transparent);\n  margin: 20rpx 0\n}\n\n.form-item:last-child {\n  margin-bottom: 0\n}\n\n.item-label {\n  font-size: 14px;\n  margin-bottom: 12rpx;\n  display: flex;\n  align-items: center;\n  gap: 12rpx\n}\n\n.info-label {\n  color: var(--info-color)\n}\n\n.info-icon {\n  background-color: rgba(0, 191, 255, 0.1)\n}\n\n.info-text {\n  font-weight: 500\n}\n\n.trade-label {\n  color: var(--trade-color)\n}\n\n.trade-icon {\n  background-color: rgba(255, 159, 28, 0.1)\n}\n\n.trade-text {\n  font-weight: 500\n}\n\n.setting-label {\n  color: var(--setting-color)\n}\n\n.setting-icon {\n  background-color: rgba(71, 185, 96, 0.1)\n}\n\n.setting-text {\n  font-weight: 500\n}\n\n.icon-wrapper {\n  width: 45rpx;\n  height: 45rpx;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center\n}\n\n.item-label text {\n  font-size: 14px;\n  color: #666666\n}\n\n.item-content {\n  position: relative;\n  z-index: 1;\n  display: inline-flex;\n  align-items: center;\n  width: 100%\n}\n\n.upload-section {\n  margin-bottom: 30rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%\n}\n\n.image-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20rpx;\n  justify-content: center;\n  align-items: center;\n  min-height: 100rpx;\n  width: 100%\n}\n\n.image-item {\n  width: 150rpx;\n  height: 150rpx;\n  position: relative;\n  border-radius: 12rpx;\n  overflow: hidden;\n  flex-shrink: 0\n}\n\n.image-container {\n  width: 100%;\n  height: 100%;\n  background-color: #f5f5f5\n}\n\n.upload-btn {\n  width: 150rpx;\n  height: 150rpx;\n  border-radius: 12rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  background: linear-gradient(135deg, #E0F3FF, #CCE6FF);\n  box-shadow: 0 6px 18px rgba(0, 191, 255, 0.15);\n  transition: transform 0.2s;\n  flex-shrink: 0\n}\n\n.upload-btn:active {\n  transform: scale(0.98)\n}\n\n.delete-btn {\n  position: absolute;\n  top: 8rpx;\n  right: 8rpx;\n  width: 40rpx;\n  height: 40rpx;\n  background-color: rgba(255, 77, 79, 0.8);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2\n}\n\n.upload-tip {\n  font-size: 14px;\n  color: rgb(133, 133, 133);\n  border-bottom: 1px solid #e8e8e8;\n  padding-bottom: 10rpx;\n  margin-top: 20rpx;\n  display: block;\n  text-align: center;\n  width: 100%\n}\n\n.condition-options {\n  display: flex;\n  flex-direction: row;\n  gap: 20rpx;\n  width: 100%\n}\n\n.condition-option {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12rpx 0;\n  border-radius: 8rpx;\n  background-color: #f8f8f8;\n  transition: all 0.3s ease;\n  border: 1px solid transparent;\n  gap: 8rpx\n}\n\n.condition-option.active {\n  background-color: rgba(0, 191, 255, 0.1);\n  color: var(--primary-color);\n  border: 1px solid var(--primary-color)\n}\n\n.trade-options {\n  display: flex;\n  flex-direction: row;\n  gap: 20rpx;\n  width: 100%\n}\n\n.trade-option {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12rpx 0;\n  border-radius: 8rpx;\n  background-color: #f8f8f8;\n  transition: all 0.3s ease;\n  border: 1px solid transparent\n}\n\n.trade-option.active {\n  background-color: rgba(0, 191, 255, 0.1);\n  color: var(--primary-color);\n  border: 1px solid var(--primary-color)\n}\n\n.location-container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between\n}\n\n.location-input {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  padding: 10rpx 0\n}\n\n.location-input .uni-icons {\n  margin-right: 12rpx\n}\n\n.input-container {\n  width: 100%\n}\n\n.input-container input,\n.bargain-range input {\n  width: 100%;\n  font-size: 14px;\n  color: #333333;\n  border: 1px solid #e8e8e8;\n  border-radius: 8rpx;\n  padding: 10rpx;\n  box-sizing: border-box\n}\n\n.price-container {\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n  width: 100%\n}\n\n.price-input-wrapper {\n  flex: 1\n}\n\n.price-input {\n  display: flex;\n  align-items: center;\n  padding: 16rpx 24rpx;\n  background: linear-gradient(135deg, #f9f9f9, #ffffff);\n  border-radius: 12rpx;\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05), 0 2px 8px rgba(0, 191, 255, 0.1);\n  border: 1px solid #e0e8f0;\n  transition: all 0.3s ease\n}\n\n.price-input:focus-within {\n  border-color: var(--primary-color);\n  box-shadow: inset 0 2px 6px rgba(0, 191, 255, 0.1), 0 4px 12px rgba(0, 191, 255, 0.15)\n}\n\n.price-input input {\n  flex: 1;\n  font-size: 14px;\n  color: #333;\n  border: none;\n  background: transparent;\n  height: 100%;\n  padding: 0;\n  box-sizing: content-box\n}\n\n.ai-price-btn {\n  display: flex;\n  align-items: center;\n  padding: 16rpx 24rpx;\n  background: linear-gradient(135deg, #37e047, #fff);\n  border-radius: 12rpx;\n  border: 1px solid #37e047;\n  color: var(--secondary-color);\n  font-size: 14px;\n  box-shadow: 0 2px 8px rgba(255, 159, 28, 0.1);\n  transition: all 0.3s ease;\n  gap: 8rpx\n}\n\n.ai-price-btn:active {\n  transform: translateY(2px);\n  box-shadow: 0 1px 4px rgba(255, 159, 28, 0.1)\n}\n\n.description-textarea {\n  width: 100%;\n  height: 240rpx;\n  font-size: 14px;\n  color: #333333;\n  line-height: 1.5;\n  border: 1px solid #e8e8e8;\n  border-radius: 8rpx;\n  padding: 10rpx;\n  transition: all 0.2s;\n  box-sizing: border-box\n}\n\n.description-textarea:focus {\n  border-color: var(--primary-color);\n  box-shadow: 0 2px 8px rgba(0, 191, 255, 0.1)\n}\n\n.placeholder {\n  color: #999999;\n  font-size: 14px\n}\n\n.error-message {\n  position: absolute;\n  bottom: -20rpx;\n  left: 0;\n  font-size: 12px;\n  color: var(--error-color)\n}\n\n.select-container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between\n}\n\n.select-input {\n  flex: 1;\n  padding: 10rpx 0\n}\n\n.has-value {\n  color: #333333\n}\n\n.bargain-option, .urgent-option {\n  display: flex;\n  align-items: center\n}\n\n.bargain-option text, .urgent-option text {\n  font-size: 14px;\n  color: #666666;\n  margin-left: 8rpx\n}\n\n.urgent-fee {\n  color: #ff4d4f\n}\n\n.bargain-range {\n  margin-top: 12rpx;\n  width: 100%\n}\n\n.word-count {\n  text-align: right;\n  font-size: 12rpx;\n  color: #999999;\n  margin-top: 8rpx\n}\n\n.bottom-bar-placeholder {\n  padding-bottom: env(safe-area-inset-bottom)\n}\n\n.bottom-bar {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ffffff;\n  padding: 20rpx 30rpx;\n  padding-bottom: calc(20rpx + env(safe-area-inset-bottom));\n  box-shadow: 0 -2px 8px rgba(0,0,0,0.05);\n  display: flex;\n  gap: 20rpx;\n  z-index: 10\n}\n\n.submit-btn {\n  flex: 1;\n  height: 88rpx;\n  line-height: 88rpx;\n  text-align: center;\n  background-color: var(--primary-color);\n  color: #ffffff;\n  font-size: 16px;\n  border-radius: 44rpx;\n  box-shadow: 0 8px 24px rgba(0, 191, 255, 0.3);\n  transition: all 0.2s\n}\n\n.submit-btn:active {\n  transform: translateY(2px);\n  box-shadow: 0 4px 12px rgba(0, 191, 255, 0.2)\n}\n\n.price-breakdown {\n  margin-top: 20rpx;\n  padding: 20rpx;\n  background: #f9f9f9;\n  border-radius: 8rpx\n}\n\n.breakdown-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12rpx\n}\n\n.breakdown-item:last-child {\n  margin-bottom: 0\n}\n\n.breakdown-item.total {\n  margin-top: 12rpx;\n  padding-top: 12rpx;\n  border-top: 1px solid #e8e8e8;\n  font-weight: 500\n}\n\n.item-label {\n  color: #666;\n  font-size: 14px\n}\n\n.item-value {\n  color: #FF9F1C;\n  font-size: 14px\n}\n\n.breakdown-item.total .item-value {\n  color: #FF4D4F;\n  font-size: 16px\n}\n</style>","import MiniProgramPage from 'D:/2大花/毕业设计/Compus/pages/task/TaskRelease/PurchaseTask/PurchaseTask.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}