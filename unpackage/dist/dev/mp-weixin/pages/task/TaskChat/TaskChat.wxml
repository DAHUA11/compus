<view class="container"><view class="navbar"><view class="navbar-left"><text class="navbar-title">消息</text><view class="navbar-action" bindtap="{{a}}"><text class="action-icon">🧹</text><text class="action-text">清除未读</text></view></view></view><view class="search-bar"><view class="search-icon">🔍</view><input type="text" placeholder="搜索聊天记录/联系人" class="search-input" bindinput="{{b}}" value="{{c}}"/><view wx:if="{{d}}" class="search-history"><view wx:for="{{e}}" wx:for-item="item" wx:key="c" class="history-item" bindtap="{{item.d}}"><text>{{item.a}}</text><text class="delete-icon" catchtap="{{item.b}}">×</text></view></view></view><scroll-view scroll-y class="message-content" bindpulldownrefresh="{{D}}" bindreachbottom="{{E}}" bindscroll="{{F}}"><view class="section"><view class="section-header" bindtap="{{h}}"><view class="section-title-wrapper"><text class="section-icon notification-icon">📢</text><text class="section-title">通知消息</text></view><text wx:if="{{f}}" class="unread-count">{{g}}</text></view><view wx:for="{{i}}" wx:for-item="group" wx:key="b" class="message-group"><view wx:for="{{group.a}}" wx:for-item="notification" wx:key="c" class="{{['message-item', 'notification-item', notification.d]}}" bindtap="{{notification.e}}" bindlongpress="{{notification.f}}"><view class="message-header"><text wx:if="{{notification.a}}" class="pin-icon">📌</text></view><text>{{notification.b}}</text></view></view><view wx:if="{{j}}" class="empty-state"><text>暂无通知消息</text></view></view><view class="section"><view class="section-header" bindtap="{{m}}"><view class="section-title-wrapper"><text class="section-icon interaction-icon">💬</text><text class="section-title">互动消息</text></view><text wx:if="{{k}}" class="unread-count">{{l}}</text></view><view wx:for="{{n}}" wx:for-item="group" wx:key="b" class="message-group"><view wx:for="{{group.a}}" wx:for-item="interaction" wx:key="d" class="{{['message-item', 'interaction-item', interaction.e]}}" bindtap="{{interaction.f}}" bindlongpress="{{interaction.g}}"><view class="message-header"><text wx:if="{{interaction.a}}" class="pin-icon">📌</text></view><image class="avatar" src="{{interaction.b}}" mode="aspectFill"></image><view class="interaction-details"><text class="interaction-content">{{interaction.c}}</text></view></view></view><view wx:if="{{o}}" class="empty-state"><text>暂无互动消息</text></view></view><view class="section"><view class="section-header" bindtap="{{r}}"><view class="section-title-wrapper"><text class="section-icon recommendation-icon">⭐</text><text class="section-title">推荐消息</text></view><text wx:if="{{p}}" class="unread-count">{{q}}</text></view><view wx:for="{{s}}" wx:for-item="group" wx:key="b" class="message-group"><view wx:for="{{group.a}}" wx:for-item="recommendation" wx:key="d" class="{{['message-item', 'recommendation-item', recommendation.e]}}" bindtap="{{recommendation.f}}" bindlongpress="{{recommendation.g}}"><view class="message-header"><text wx:if="{{recommendation.a}}" class="pin-icon">📌</text></view><text>{{recommendation.b}}</text><text class="message-time">{{recommendation.c}}</text></view></view><view wx:if="{{t}}" class="empty-state"><text>暂无推荐消息</text></view></view><view class="section"><view class="section-header" bindtap="{{x}}"><view class="section-title-wrapper"><text class="section-icon review-icon">📝</text><text class="section-title">交易评价提醒</text></view><text wx:if="{{v}}" class="unread-count">{{w}}</text></view><view wx:for="{{y}}" wx:for-item="group" wx:key="b" class="message-group"><view wx:for="{{group.a}}" wx:for-item="review" wx:key="d" class="{{['message-item', 'review-item', review.e]}}" bindtap="{{review.f}}" bindlongpress="{{review.g}}"><view class="message-header"><text wx:if="{{review.a}}" class="pin-icon">📌</text></view><text class="transaction-success">交易成功</text><text>{{review.b}}</text><button class="review-button">去评价</button><text class="message-time">{{review.c}}</text></view></view><view wx:if="{{z}}" class="empty-state"><text>暂无评价提醒</text></view></view><view wx:if="{{A}}" class="loading-state"><view class="loading-skeleton"><view wx:for="{{B}}" wx:for-item="i" wx:key="a" class="skeleton-item"></view></view></view><view wx:if="{{C}}" class="no-more-state"><text>没有更多了</text></view></scroll-view></view>